<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ternity Desktop — Timer Style Collection v4</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Oxanium:wght@400;500;600;700&family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../themes.css">
    <style>
        *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background: #0a0a0a; color: #ccc;
            font-family: 'Inter', system-ui, sans-serif;
            padding: 24px; font-size: 14px;
        }

        .page-header { text-align: center; margin-bottom: 8px; }
        .page-header h1 {
            font-family: 'Oxanium', sans-serif;
            font-size: 11px; font-weight: 400;
            letter-spacing: 5px; text-transform: uppercase;
            color: rgba(255,255,255,0.3);
        }
        .page-header p {
            font-size: 11px; color: rgba(255,255,255,0.15); margin-top: 4px;
        }
        .page-header .hint {
            font-size: 10px; color: hsl(168 100% 42% / 0.5); margin-top: 8px;
        }

        .family {
            max-width: 1820px; margin: 0 auto 56px;
        }
        .family-header {
            text-align: center; margin-bottom: 16px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255,255,255,0.04);
        }
        .family-name {
            font-family: 'Oxanium', sans-serif;
            font-size: 12px; font-weight: 600;
            letter-spacing: 3px; text-transform: uppercase;
            color: rgba(255,255,255,0.35);
        }
        .family-desc {
            font-size: 10px; color: rgba(255,255,255,0.12);
            line-height: 1.4; margin-top: 4px;
            max-width: 700px; margin-left: auto; margin-right: auto;
        }
        .family-tag {
            display: inline-block; margin-top: 6px;
            font-family: 'Oxanium', sans-serif;
            font-size: 8px; letter-spacing: 1.5px; text-transform: uppercase;
            padding: 2px 8px; border-radius: 4px;
            border: 1px solid rgba(255,255,255,0.08);
            color: rgba(255,255,255,0.2);
        }

        .variant-grid {
            display: grid;
            grid-template-columns: repeat(6, 345px);
            gap: 16px;
            justify-content: center;
        }
        @media (max-width: 2200px) {
            .variant-grid { grid-template-columns: repeat(3, 345px); }
        }
        @media (max-width: 1100px) {
            .variant-grid { grid-template-columns: repeat(2, 345px); }
        }
        .state-wrap {
            display: flex; flex-direction: column; align-items: center; gap: 6px;
        }
        .state-label {
            font-size: 8px; letter-spacing: 1.5px; text-transform: uppercase;
            color: rgba(255,255,255,0.15); font-family: 'Oxanium', sans-serif;
        }
        .popup-frame {
            width: 345px; border-radius: 14px; overflow: hidden;
            box-shadow: 0 12px 48px rgba(0,0,0,0.6), 0 0 0 1px rgba(255,255,255,0.06);
        }
        .popup {
            font-family: 'Inter', system-ui, sans-serif;
            background: hsl(var(--background)); color: hsl(var(--foreground));
        }

        /* ================================================================
           SHARED BASE
           ================================================================ */
        .glass-card {
            position: relative; border-radius: 14px; padding: 14px;
            background: hsl(var(--card) / 0.6);
            backdrop-filter: blur(12px);
            border: 1px solid hsl(var(--border) / 0.3);
            transition: border-color 0.3s;
        }
        .glass-card.running { border-color: hsl(var(--primary) / 0.2); }
        .glass-card .glass-highlight {
            position: absolute; left: 0; right: 0; top: 0;
            height: 50%; pointer-events: none;
            background: linear-gradient(180deg, hsl(var(--foreground) / 0.02) 0%, transparent 100%);
            border-radius: 14px 14px 0 0;
        }
        .timer-header {
            display: flex; align-items: center; gap: 10px;
            margin-bottom: 6px; position: relative;
        }
        .status-orb {
            width: 10px; height: 10px; border-radius: 50%; flex-shrink: 0;
            background: hsl(var(--muted-foreground) / 0.2);
            transition: all 0.3s;
        }
        .running .status-orb {
            background: hsl(var(--primary));
            box-shadow: 0 0 8px hsl(var(--primary) / 0.5), 0 0 20px hsl(var(--primary) / 0.2);
        }
        .timer-display {
            font-family: 'Oxanium', sans-serif;
            font-weight: 700; font-variant-numeric: tabular-nums;
            font-size: 28px; letter-spacing: 2px; line-height: 1;
            color: hsl(var(--muted-foreground) / 0.15);
            margin-top: 2px; transition: color 0.3s;
        }
        .running .timer-display { color: hsl(var(--primary)); }
        .desc-input {
            width: 100%; border: 1px solid transparent; outline: none;
            background: transparent; color: hsl(var(--foreground));
            font-family: 'Inter', sans-serif;
            font-size: 13px; font-weight: 500;
            padding: 8px 10px; border-radius: 8px;
        }
        .desc-input::placeholder {
            color: hsl(var(--muted-foreground) / 0.4); font-style: italic;
        }
        .project-pill {
            display: flex; align-items: center; gap: 5px;
            font-size: 11px; color: hsl(var(--muted-foreground));
            margin-top: 4px; cursor: pointer;
            padding: 2px 8px; border-radius: 12px;
            border: 1px solid transparent; margin-left: -8px;
        }
        .dot { width: 6px; height: 6px; border-radius: 50%; flex-shrink: 0; }
        .icon-sm { width: 10px; height: 10px; }
        .icon-xs { width: 8px; height: 8px; }
        .icon-play { width: 11px; height: 11px; fill: currentColor; }
        .icon-stop { width: 11px; height: 11px; fill: currentColor; }

        .liquid-edge {
            position: absolute; bottom: 0; left: 0; right: 0;
            height: 3px; overflow: hidden;
            border-radius: 0 0 14px 14px;
            opacity: 0; transition: opacity 0.4s;
        }
        .running .liquid-edge { opacity: 1; }
        .liquid-edge .blob-1 {
            position: absolute; top: 0; height: 100%; width: 35%;
            background: radial-gradient(ellipse at center, hsl(var(--primary) / 0.6) 0%, transparent 70%);
            animation: liquid-drift 5s ease-in-out infinite alternate;
        }
        .liquid-edge .blob-2 {
            position: absolute; top: 0; height: 100%; width: 20%;
            background: radial-gradient(ellipse at center, hsl(var(--primary) / 0.4) 0%, transparent 70%);
            animation: liquid-drift-2 7s ease-in-out infinite alternate;
        }

        /* ================================================================
           ANIMATIONS
           ================================================================ */
        @keyframes liquid-drift { 0% { left: -10%; } 100% { left: 75%; } }
        @keyframes liquid-drift-2 { 0% { left: 80%; } 100% { left: 5%; } }
        @keyframes ripple-out {
            0% { transform: scale(0); opacity: 0.4; }
            100% { transform: scale(3.5); opacity: 0; }
        }
        @keyframes bounce-press {
            0% { transform: scale(1); }
            30% { transform: scale(0.9); }
            60% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        @keyframes fade-scale-in {
            0% { transform: scale(0.7); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }
        @keyframes glow-pulse-primary {
            0%, 100% { box-shadow: 0 0 6px hsl(var(--destructive) / 0.2); }
            50% { box-shadow: 0 0 16px hsl(var(--destructive) / 0.4), 0 0 32px hsl(var(--destructive) / 0.15); }
        }

        .ripple {
            position: absolute; width: 40px; height: 40px; border-radius: 50%;
            pointer-events: none; z-index: 0;
            transform: scale(0); opacity: 0;
        }
        .start-state .ripple { background: hsl(var(--primary) / 0.2); }
        .stop-state .ripple { background: hsl(var(--destructive) / 0.2); }
        .anim-ripple { animation: ripple-out 0.5s ease-out forwards; }
        .anim-bounce { animation: bounce-press 0.35s ease; }
        .btn-content { display: flex; align-items: center; gap: 6px; position: relative; z-index: 1; }
        .btn-content.anim-fade-scale { animation: fade-scale-in 0.2s ease-out; }

        /* ================================================================
           1 / GHOST GLASS — Frosted inline button (A2)
           Default for: Ternity Dark
           ================================================================ */
        .style-ghost .s-btn {
            display: flex; align-items: center; justify-content: center;
            font-family: 'Oxanium', sans-serif;
            font-weight: 600; font-size: 10px;
            text-transform: uppercase; letter-spacing: 0.5px;
            height: 30px; width: 72px;
            border-radius: 10px; cursor: pointer; gap: 6px;
            margin-left: auto; position: relative; overflow: hidden;
            backdrop-filter: blur(8px);
            transition: background 0.3s, border-color 0.3s, color 0.3s, box-shadow 0.3s;
        }
        .style-ghost .s-btn.start-state {
            background: hsl(var(--primary) / 0.06);
            border: 1px solid hsl(var(--primary) / 0.2);
            color: hsl(var(--primary));
        }
        .style-ghost .s-btn.start-state:hover {
            background: hsl(var(--primary) / 0.12);
            border-color: hsl(var(--primary) / 0.35);
        }
        .style-ghost .s-btn.stop-state {
            background: hsl(var(--destructive) / 0.06);
            border: 1px solid hsl(var(--destructive) / 0.2);
            color: hsl(var(--destructive));
        }
        .style-ghost .s-btn.stop-state:hover {
            background: hsl(var(--destructive) / 0.12);
            border-color: hsl(var(--destructive) / 0.35);
        }

        /* ================================================================
           2 / FROSTED BAR — Full-width frosted bar (B2)
           Default for: Ternity Light
           ================================================================ */
        .style-bar .s-btn {
            display: flex; align-items: center; justify-content: center;
            font-family: 'Oxanium', sans-serif;
            font-weight: 600; font-size: 10px;
            text-transform: uppercase; letter-spacing: 0.8px;
            height: 34px; gap: 6px;
            border: none; cursor: pointer; width: 100%;
            margin-top: 10px; border-radius: 8px;
            position: relative; overflow: hidden;
            backdrop-filter: blur(8px);
            transition: background 0.3s, border-color 0.3s, color 0.3s, box-shadow 0.3s;
        }
        .style-bar .s-btn.start-state {
            background: hsl(var(--primary) / 0.06);
            border: 1px solid hsl(var(--primary) / 0.15);
            color: hsl(var(--primary));
        }
        .style-bar .s-btn.start-state:hover {
            background: hsl(var(--primary) / 0.12);
            border-color: hsl(var(--primary) / 0.3);
        }
        .style-bar .s-btn.stop-state {
            background: hsl(var(--destructive) / 0.06);
            border: 1px solid hsl(var(--destructive) / 0.15);
            color: hsl(var(--destructive));
        }
        .style-bar .s-btn.stop-state:hover {
            background: hsl(var(--destructive) / 0.12);
            border-color: hsl(var(--destructive) / 0.3);
        }
        .style-bar .s-btn .ripple { width: 60px; height: 60px; }

        /* ================================================================
           3 / SOLID PILL — Classic solid fill, full pill radius
           Default for: High Contrast — maximum clarity
           ================================================================ */
        .style-solid .s-btn {
            display: flex; align-items: center; justify-content: center;
            font-family: 'Oxanium', sans-serif;
            font-weight: 600; font-size: 10px;
            text-transform: uppercase; letter-spacing: 0.5px;
            height: 30px; padding: 0 16px;
            border-radius: 15px; border: none;
            cursor: pointer; gap: 6px;
            margin-left: auto; position: relative; overflow: hidden;
            transition: background 0.3s, color 0.3s, box-shadow 0.3s;
        }
        .style-solid .s-btn.start-state {
            background: hsl(var(--primary));
            color: hsl(var(--primary-foreground, 0 0% 4%));
        }
        .style-solid .s-btn.start-state:hover {
            box-shadow: 0 0 16px hsl(var(--primary) / 0.3);
        }
        .style-solid .s-btn.stop-state {
            background: hsl(var(--destructive));
            color: hsl(var(--destructive-foreground, 0 0% 100%));
        }
        .style-solid .s-btn.stop-state:hover {
            box-shadow: 0 0 16px hsl(var(--destructive) / 0.3);
        }
        .style-solid .s-btn.start-state .ripple { background: hsl(var(--primary-foreground, 0 0% 4%) / 0.15); }
        .style-solid .s-btn.stop-state .ripple { background: hsl(0 0% 100% / 0.15); }

        /* ================================================================
           4 / NEON WIRE — Dark fill, glowing border
           Default for: Midnight — cyberpunk, moody
           ================================================================ */
        .style-neon .s-btn {
            display: flex; align-items: center; justify-content: center;
            font-family: 'Oxanium', sans-serif;
            font-weight: 600; font-size: 10px;
            text-transform: uppercase; letter-spacing: 0.5px;
            height: 30px; width: 72px;
            border-radius: 10px; cursor: pointer; gap: 6px;
            margin-left: auto; position: relative; overflow: hidden;
            background: hsl(var(--background));
            transition: all 0.3s;
        }
        .style-neon .s-btn.start-state {
            border: 1px solid hsl(var(--primary) / 0.5);
            color: hsl(var(--primary));
            box-shadow: 0 0 6px hsl(var(--primary) / 0.2), inset 0 0 6px hsl(var(--primary) / 0.05);
        }
        .style-neon .s-btn.start-state:hover {
            box-shadow: 0 0 12px hsl(var(--primary) / 0.4), 0 0 24px hsl(var(--primary) / 0.15),
                        inset 0 0 12px hsl(var(--primary) / 0.08);
            border-color: hsl(var(--primary) / 0.8);
        }
        .style-neon .s-btn.stop-state {
            border: 1px solid hsl(var(--destructive) / 0.5);
            color: hsl(var(--destructive));
            box-shadow: 0 0 6px hsl(var(--destructive) / 0.2), inset 0 0 6px hsl(var(--destructive) / 0.05);
            animation: glow-pulse-primary 2s ease-in-out infinite;
        }
        .style-neon .s-btn.start-state .ripple { background: hsl(var(--primary) / 0.15); }
        .style-neon .s-btn.stop-state .ripple { background: hsl(var(--destructive) / 0.15); }

        /* ================================================================
           5 / SOFT SLAB — Rounded rect, warm muted fill
           Default for: Warm Sand — earthy, soft, approachable
           ================================================================ */
        .style-soft .s-btn {
            display: flex; align-items: center; justify-content: center;
            font-family: 'Oxanium', sans-serif;
            font-weight: 600; font-size: 10px;
            text-transform: uppercase; letter-spacing: 0.5px;
            height: 32px; width: 76px;
            border-radius: 8px; cursor: pointer; gap: 6px;
            margin-left: auto; position: relative; overflow: hidden;
            transition: all 0.3s;
        }
        .style-soft .s-btn.start-state {
            background: hsl(var(--primary) / 0.12);
            border: 1px solid hsl(var(--primary) / 0.15);
            color: hsl(var(--primary));
        }
        .style-soft .s-btn.start-state:hover {
            background: hsl(var(--primary) / 0.2);
            border-color: hsl(var(--primary) / 0.3);
        }
        .style-soft .s-btn.stop-state {
            background: hsl(var(--destructive) / 0.12);
            border: 1px solid hsl(var(--destructive) / 0.15);
            color: hsl(var(--destructive));
        }
        .style-soft .s-btn.stop-state:hover {
            background: hsl(var(--destructive) / 0.2);
            border-color: hsl(var(--destructive) / 0.3);
        }
        .style-soft .s-btn.start-state .ripple { background: hsl(var(--primary) / 0.15); }
        .style-soft .s-btn.stop-state .ripple { background: hsl(var(--destructive) / 0.15); }

        /* ================================================================
           6 / MONO EDGE — Sharp corners, mono weight, industrial
           Default for: Carbon — mechanical, precise
           ================================================================ */
        .style-mono .s-btn {
            display: flex; align-items: center; justify-content: center;
            font-family: 'JetBrains Mono', 'Oxanium', monospace;
            font-weight: 600; font-size: 10px;
            text-transform: uppercase; letter-spacing: 1px;
            height: 28px; width: 68px;
            border-radius: 4px; cursor: pointer; gap: 5px;
            margin-left: auto; position: relative; overflow: hidden;
            transition: all 0.2s;
        }
        .style-mono .s-btn.start-state {
            background: transparent;
            border: 1px solid hsl(var(--primary) / 0.4);
            color: hsl(var(--primary));
        }
        .style-mono .s-btn.start-state:hover {
            background: hsl(var(--primary) / 0.08);
            border-color: hsl(var(--primary) / 0.6);
        }
        .style-mono .s-btn.stop-state {
            background: transparent;
            border: 1px solid hsl(var(--destructive) / 0.4);
            color: hsl(var(--destructive));
        }
        .style-mono .s-btn.stop-state:hover {
            background: hsl(var(--destructive) / 0.08);
            border-color: hsl(var(--destructive) / 0.6);
        }
        .style-mono .s-btn.start-state .ripple { background: hsl(var(--primary) / 0.12); }
        .style-mono .s-btn.stop-state .ripple { background: hsl(var(--destructive) / 0.12); }
    </style>
</head>
<body>
    <div class="page-header">
        <h1>Timer Style Collection</h1>
        <p>v4 — 6 styles × 6 themes. Each style shown in its default theme + all others. Click to toggle.</p>
        <div class="hint">Click any button to toggle Start / Stop with ripple animation</div>
    </div>

    <!-- 1 / GHOST GLASS -->
    <div class="family">
        <div class="family-header">
            <div class="family-name">1 / Ghost Glass</div>
            <div class="family-desc">Frosted outlined inline button. Blends with the glass card — border + tint + backdrop blur. The flagship style for the glossy dark theme.</div>
            <div class="family-tag">Default for: Ternity Dark</div>
        </div>
        <div class="variant-grid" id="grid-ghost"></div>
    </div>

    <!-- 2 / FROSTED BAR -->
    <div class="family">
        <div class="family-header">
            <div class="family-name">2 / Frosted Bar</div>
            <div class="family-desc">Full-width frosted action bar at the bottom of the timer card. Clear call to action, generous hit target. Works beautifully on light themes.</div>
            <div class="family-tag">Default for: Ternity Light</div>
        </div>
        <div class="variant-grid" id="grid-bar"></div>
    </div>

    <!-- 3 / SOLID PILL -->
    <div class="family">
        <div class="family-header">
            <div class="family-name">3 / Solid Pill</div>
            <div class="family-desc">Classic solid fill with full pill radius. Bold, unmistakable. Maximum contrast and clarity. No ambiguity about what to click.</div>
            <div class="family-tag">Default for: High Contrast</div>
        </div>
        <div class="variant-grid" id="grid-solid"></div>
    </div>

    <!-- 4 / NEON WIRE -->
    <div class="family">
        <div class="family-header">
            <div class="family-name">4 / Neon Wire</div>
            <div class="family-desc">Dark fill with glowing neon border. Stop button pulses with a breathing glow. Cyberpunk aesthetic for the deep dark themes.</div>
            <div class="family-tag">Default for: Midnight</div>
        </div>
        <div class="variant-grid" id="grid-neon"></div>
    </div>

    <!-- 5 / SOFT SLAB -->
    <div class="family">
        <div class="family-header">
            <div class="family-name">5 / Soft Slab</div>
            <div class="family-desc">Rounded rectangle with warm muted fill. Gentle, approachable, organic. Like a paper button on a craft surface. Slightly larger for comfort.</div>
            <div class="family-tag">Default for: Warm Sand</div>
        </div>
        <div class="variant-grid" id="grid-soft"></div>
    </div>

    <!-- 6 / MONO EDGE -->
    <div class="family">
        <div class="family-header">
            <div class="family-name">6 / Mono Edge</div>
            <div class="family-desc">Sharp 4px corners, monospace font, minimal border. Industrial, precise, mechanical. Like a terminal command button. Compact.</div>
            <div class="family-tag">Default for: Carbon</div>
        </div>
        <div class="variant-grid" id="grid-mono"></div>
    </div>

    <script>
        const PLAY_SVG = '<svg class="icon-play" viewBox="0 0 24 24"><polygon points="6,3 20,12 6,21" /></svg>';
        const STOP_SVG = '<svg class="icon-stop" viewBox="0 0 24 24"><rect x="4" y="4" width="16" height="16" rx="1" /></svg>';

        const THEMES = [
            { id: 'ternity-dark', label: 'Ternity Dark' },
            { id: 'ternity-light', label: 'Ternity Light' },
            { id: 'midnight', label: 'Midnight' },
            { id: 'warm-sand', label: 'Warm Sand' },
            { id: 'carbon', label: 'Carbon' },
            { id: 'high-contrast', label: 'High Contrast' },
        ];

        const STYLES = [
            { id: 'ghost', gridId: 'grid-ghost', isBar: false, styleClass: 'style-ghost' },
            { id: 'bar', gridId: 'grid-bar', isBar: true, styleClass: 'style-bar' },
            { id: 'solid', gridId: 'grid-solid', isBar: false, styleClass: 'style-solid' },
            { id: 'neon', gridId: 'grid-neon', isBar: false, styleClass: 'style-neon' },
            { id: 'soft', gridId: 'grid-soft', isBar: false, styleClass: 'style-soft' },
            { id: 'mono', gridId: 'grid-mono', isBar: false, styleClass: 'style-mono' },
        ];

        function makeCard(style, theme) {
            const isBar = style.isBar;
            const btnHtml = isBar
                ? `<button class="s-btn start-state" onclick="toggleBtn(this, event)">
                        <span class="ripple"></span>
                        <span class="btn-content">
                            ${PLAY_SVG} Start Timer
                        </span>
                    </button>`
                : '';
            const inlineBtnHtml = !isBar
                ? `<button class="s-btn start-state" onclick="toggleBtn(this, event)">
                        <span class="ripple"></span>
                        <span class="btn-content">
                            ${PLAY_SVG} Start
                        </span>
                    </button>`
                : '';

            return `
                <div class="state-wrap">
                    <div class="state-label">${theme.label}</div>
                    <div class="popup-frame"><div class="popup ${style.styleClass}" data-theme="${theme.id}">
                        <div style="padding: 8px;">
                            <div class="glass-card">
                                <div class="glass-highlight"></div>
                                <div class="timer-header" ${isBar ? 'style="margin-bottom: 0;"' : ''}>
                                    <div class="status-orb"></div>
                                    <div class="timer-display">0:00:00</div>
                                    ${inlineBtnHtml}
                                </div>
                                <input class="desc-input" placeholder="What are you working on?" readonly>
                                <div class="project-pill">
                                    <svg class="icon-sm" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="7" width="20" height="14" rx="2"/><path d="M16 7V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2"/><path d="M12 12v4"/><path d="M2 12h20"/></svg>
                                    <span>No project</span>
                                    <svg class="icon-xs" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="opacity:0.5"><polyline points="6 9 12 15 18 9"/></svg>
                                </div>
                                ${btnHtml}
                                <div class="liquid-edge"><div class="blob-1"></div><div class="blob-2"></div></div>
                            </div>
                        </div>
                    </div></div>
                </div>
            `;
        }

        // Generate all grids
        STYLES.forEach(style => {
            const grid = document.getElementById(style.gridId);
            grid.innerHTML = THEMES.map(theme => makeCard(style, theme)).join('');
        });

        // Toggle button handler with ripple
        function toggleBtn(btn, event) {
            const isStart = btn.classList.contains('start-state');
            const isBar = btn.closest('.style-bar') !== null;
            const card = btn.closest('.glass-card');
            const content = btn.querySelector('.btn-content');
            const ripple = btn.querySelector('.ripple');

            // Toggle state
            if (isStart) {
                btn.classList.remove('start-state');
                btn.classList.add('stop-state');
                card.classList.add('running');
                content.innerHTML = STOP_SVG + (isBar ? ' Stop Timer' : ' Stop');
            } else {
                btn.classList.remove('stop-state');
                btn.classList.add('start-state');
                card.classList.remove('running');
                content.innerHTML = PLAY_SVG + (isBar ? ' Start Timer' : ' Start');
            }

            // Ripple from click point
            if (ripple && event) {
                const rect = btn.getBoundingClientRect();
                const x = event.clientX - rect.left;
                const y = event.clientY - rect.top;
                const size = ripple.offsetWidth;
                ripple.style.left = (x - size / 2) + 'px';
                ripple.style.top = (y - size / 2) + 'px';
                ripple.classList.remove('anim-ripple');
                void ripple.offsetWidth;
                ripple.classList.add('anim-ripple');
                setTimeout(() => ripple.classList.remove('anim-ripple'), 500);
            }

            // Bounce
            btn.classList.remove('anim-bounce');
            void btn.offsetWidth;
            btn.classList.add('anim-bounce');
            content.classList.remove('anim-fade-scale');
            void content.offsetWidth;
            content.classList.add('anim-fade-scale');
            setTimeout(() => {
                btn.classList.remove('anim-bounce');
                content.classList.remove('anim-fade-scale');
            }, 400);

            // Timer simulation
            if (card.classList.contains('running')) {
                const timerDisplay = card.querySelector('.timer-display');
                timerDisplay.textContent = '0:00:01';
                let s = 1;
                const interval = setInterval(() => {
                    if (!card.classList.contains('running')) {
                        clearInterval(interval);
                        timerDisplay.textContent = '0:00:00';
                        return;
                    }
                    s++;
                    const h = Math.floor(s / 3600);
                    const m = Math.floor((s % 3600) / 60);
                    const sec = s % 60;
                    timerDisplay.textContent = `${h}:${String(m).padStart(2,'0')}:${String(sec).padStart(2,'0')}`;
                }, 1000);
                card._timerInterval = interval;
            } else {
                if (card._timerInterval) clearInterval(card._timerInterval);
                card.querySelector('.timer-display').textContent = '0:00:00';
            }
        }
    </script>
</body>
</html>
