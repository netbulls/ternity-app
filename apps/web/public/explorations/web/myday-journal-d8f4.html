<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Day — V4 The Journal</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Oxanium:wght@400;500;600;700&family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../themes.css" />
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
      *,
      *::before,
      *::after {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        background: #0a0a0a;
        color: #ccc;
        font-family: 'Inter', system-ui, sans-serif;
        padding: 16px;
        font-size: 14px;
      }

      .page-header {
        text-align: center;
        margin-bottom: 8px;
      }
      .page-header h1 {
        font-family: 'Oxanium', sans-serif;
        font-size: 11px;
        font-weight: 400;
        letter-spacing: 5px;
        text-transform: uppercase;
        color: rgba(255, 255, 255, 0.3);
      }
      .page-header p {
        font-size: 11px;
        color: rgba(255, 255, 255, 0.15);
        margin-top: 4px;
      }

      .switcher-row {
        display: flex;
        justify-content: center;
        gap: 24px;
        margin-bottom: 12px;
        flex-wrap: wrap;
        align-items: center;
      }
      .switcher-label {
        font-size: 9px;
        letter-spacing: 1px;
        text-transform: uppercase;
        color: rgba(255, 255, 255, 0.2);
      }
      .switcher-group {
        display: flex;
        gap: 4px;
      }
      .theme-nav {
        display: contents;
      }
      .switcher-group button {
        font-family: 'Inter', sans-serif;
        font-size: 10px;
        padding: 4px 10px;
        border-radius: 4px;
        border: 1px solid #222;
        background: #161616;
        color: rgba(255, 255, 255, 0.35);
        cursor: pointer;
        transition: all 0.15s;
      }
      .switcher-group button:hover {
        border-color: #444;
      }
      .switcher-group button.active {
        background: #333;
        border-color: #555;
        color: rgba(255, 255, 255, 0.8);
      }

      [data-scale='compact'] {
        --t-scale: 0.9;
      }
      [data-scale='default'] {
        --t-scale: 1.1;
      }
      [data-scale='comfortable'] {
        --t-scale: 1.2;
      }

      /* ========================================
           V4 — THE JOURNAL
           Chronological story. Your day reads top-to-bottom
           like a feed. Each entry is a "moment" with a
           left-side time rail connecting them.
           The running timer is the latest moment, pinned top.
           Philosophy: "Your day tells a story."
           ======================================== */

      .app {
        background: hsl(var(--background));
        color: hsl(var(--foreground));
        font-family: 'Inter', system-ui, sans-serif;
        border-radius: 16px;
        overflow: hidden;
        border: 1px solid hsl(var(--border));
        max-width: 720px;
        margin: 0 auto;
        min-height: 700px;
      }

      .app-content {
        padding: calc(24px * var(--t-scale, 1));
        padding-bottom: calc(40px * var(--t-scale, 1));
      }

      /* --- Header --- */
      .journal-header {
        text-align: center;
        margin-bottom: calc(28px * var(--t-scale, 1));
      }
      .journal-date {
        font-family: 'Oxanium', sans-serif;
        font-size: calc(11px * var(--t-scale, 1));
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 3px;
        color: hsl(var(--muted-foreground));
        margin-bottom: 4px;
      }
      .journal-title {
        font-family: 'Oxanium', sans-serif;
        font-size: calc(20px * var(--t-scale, 1));
        font-weight: 700;
        letter-spacing: 1px;
      }
      .journal-summary {
        font-size: calc(12px * var(--t-scale, 1));
        color: hsl(var(--muted-foreground));
        margin-top: 6px;
      }
      .journal-summary strong {
        color: hsl(var(--primary));
        font-weight: 600;
      }

      /* --- Day progress bar (thin) --- */
      .day-bar {
        display: flex;
        align-items: center;
        gap: calc(10px * var(--t-scale, 1));
        margin-bottom: calc(28px * var(--t-scale, 1));
      }
      .day-bar-track {
        flex: 1;
        height: 4px;
        background: hsl(var(--muted));
        border-radius: 2px;
        overflow: hidden;
      }
      .day-bar-fill {
        height: 100%;
        border-radius: 2px;
        background: hsl(var(--primary));
      }
      .day-bar-label {
        font-family: 'Oxanium', sans-serif;
        font-size: calc(11px * var(--t-scale, 1));
        font-weight: 600;
        color: hsl(var(--primary));
        font-variant-numeric: tabular-nums;
        white-space: nowrap;
      }

      /* --- Timeline Feed --- */
      .timeline-feed {
        position: relative;
        padding-left: calc(80px * var(--t-scale, 1));
      }

      /* Vertical rail */
      .timeline-feed::before {
        content: '';
        position: absolute;
        left: calc(36px * var(--t-scale, 1));
        top: 0;
        bottom: 0;
        width: 2px;
        background: hsl(var(--border));
      }

      /* --- Moment (entry) --- */
      .moment {
        position: relative;
        padding-bottom: calc(24px * var(--t-scale, 1));
      }
      .moment:last-child {
        padding-bottom: 0;
      }

      /* Time label on the left */
      .moment-time {
        position: absolute;
        left: calc(-80px * var(--t-scale, 1));
        top: 2px;
        width: calc(64px * var(--t-scale, 1));
        text-align: right;
        font-family: 'Oxanium', sans-serif;
        font-size: calc(11px * var(--t-scale, 1));
        font-weight: 600;
        font-variant-numeric: tabular-nums;
        color: hsl(var(--muted-foreground));
      }

      /* Dot on the rail */
      .moment-dot {
        position: absolute;
        left: calc(-48px * var(--t-scale, 1));
        top: 4px;
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background: hsl(var(--border));
        border: 2px solid hsl(var(--background));
        z-index: 1;
      }
      .moment.active .moment-dot {
        background: hsl(var(--primary));
        box-shadow: 0 0 8px hsl(var(--primary) / 0.4);
        animation: pulse-ring 2s ease-in-out infinite;
      }
      @keyframes pulse-ring {
        0%,
        100% {
          box-shadow: 0 0 8px hsl(var(--primary) / 0.4);
        }
        50% {
          box-shadow: 0 0 16px hsl(var(--primary) / 0.2);
        }
      }

      /* Moment card content */
      .moment-card {
        background: hsl(var(--t-stat-bg));
        border: 1px solid hsl(var(--t-border-subtle));
        border-radius: 10px;
        padding: calc(14px * var(--t-scale, 1)) calc(16px * var(--t-scale, 1));
        transition: border-color 0.15s;
      }
      .moment-card:hover {
        border-color: hsl(var(--border));
      }
      .moment.active .moment-card {
        border-color: hsl(var(--primary) / 0.25);
        background: hsl(var(--t-timer-bg));
      }

      .moment-top {
        display: flex;
        align-items: flex-start;
        justify-content: space-between;
        gap: 12px;
        margin-bottom: 8px;
      }
      .moment-desc {
        font-size: calc(14px * var(--t-scale, 1));
        font-weight: 500;
        color: hsl(var(--foreground));
        line-height: 1.3;
        flex: 1;
      }
      .moment-duration {
        font-family: 'Oxanium', sans-serif;
        font-size: calc(16px * var(--t-scale, 1));
        font-weight: 700;
        font-variant-numeric: tabular-nums;
        flex-shrink: 0;
      }
      .moment-duration.accent {
        color: hsl(var(--primary));
      }

      .moment-meta {
        display: flex;
        align-items: center;
        gap: 10px;
        flex-wrap: wrap;
      }
      .moment-chip {
        display: inline-flex;
        align-items: center;
        gap: 4px;
        font-size: calc(10px * var(--t-scale, 1));
      }
      .moment-chip.project {
        color: hsl(var(--muted-foreground));
      }
      .moment-chip.project .dot {
        width: 6px;
        height: 6px;
        border-radius: 50%;
      }
      .moment-chip.jira {
        color: hsl(var(--primary));
        font-weight: 600;
      }
      .moment-chip.time-range {
        color: hsl(var(--muted-foreground));
        opacity: 0.6;
        font-variant-numeric: tabular-nums;
      }
      .moment-chip.running-label {
        font-family: 'Oxanium', sans-serif;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 1.5px;
        font-size: calc(8px * var(--t-scale, 1));
        color: hsl(var(--primary));
      }

      /* Moment actions (on active) */
      .moment-actions {
        display: flex;
        gap: 8px;
        margin-top: calc(10px * var(--t-scale, 1));
      }
      .moment-btn {
        display: inline-flex;
        align-items: center;
        gap: 5px;
        padding: 5px 12px;
        border-radius: 6px;
        border: none;
        font-family: 'Inter', sans-serif;
        font-size: calc(11px * var(--t-scale, 1));
        font-weight: 500;
        cursor: pointer;
      }
      .moment-btn.stop {
        background: hsl(var(--destructive));
        color: white;
      }
      .moment-btn.ghost {
        background: hsl(var(--muted));
        border: 1px solid hsl(var(--border));
        color: hsl(var(--foreground));
      }
      .moment-btn svg {
        width: 12px;
        height: 12px;
      }

      /* --- Gap marker --- */
      .gap-marker {
        position: relative;
        padding: calc(8px * var(--t-scale, 1)) 0;
        display: flex;
        align-items: center;
      }
      .gap-marker-time {
        position: absolute;
        left: calc(-80px * var(--t-scale, 1));
        width: calc(64px * var(--t-scale, 1));
        text-align: right;
        font-family: 'Oxanium', sans-serif;
        font-size: calc(9px * var(--t-scale, 1));
        color: hsl(var(--muted-foreground));
        opacity: 0.3;
      }
      .gap-marker-line {
        flex: 1;
        display: flex;
        align-items: center;
        gap: 8px;
      }
      .gap-marker-line::before,
      .gap-marker-line::after {
        content: '';
        flex: 1;
        height: 1px;
        background: hsl(var(--border) / 0.3);
      }
      .gap-marker-text {
        font-size: calc(9px * var(--t-scale, 1));
        color: hsl(var(--muted-foreground));
        opacity: 0.4;
        white-space: nowrap;
      }

      /* --- Footer insight --- */
      .day-insight {
        margin-top: calc(24px * var(--t-scale, 1));
        padding: calc(14px * var(--t-scale, 1)) calc(16px * var(--t-scale, 1));
        border-radius: 10px;
        background: hsl(var(--t-stat-bg));
        border: 1px solid hsl(var(--t-border-subtle));
        display: flex;
        align-items: center;
        gap: 12px;
      }
      .insight-icon {
        color: hsl(var(--muted-foreground));
        opacity: 0.5;
        flex-shrink: 0;
      }
      .insight-text {
        font-size: calc(12px * var(--t-scale, 1));
        color: hsl(var(--muted-foreground));
        line-height: 1.4;
      }
      .insight-text strong {
        color: hsl(var(--foreground));
        font-weight: 600;
      }
      .insight-text em {
        color: hsl(var(--primary));
        font-style: normal;
        font-weight: 600;
      }
    </style>
  </head>
  <body>
    <div class="page-header">
      <h1>My Day Explorations</h1>
      <p>
        V4 — The Journal: your day reads like a story. A time rail connects moments. The current
        task is always on top.
      </p>
    </div>

    <div class="switcher-row">
      <span class="switcher-label">Theme</span>
      <div class="switcher-group theme-nav">
        <button class="active" onclick="setTheme('ternity-dark')">Dark</button>
        <button onclick="setTheme('ternity-light')">Light</button>
        <button onclick="setTheme('midnight')">Midnight</button>
        <button onclick="setTheme('warm-sand')">Sand</button>
        <button onclick="setTheme('carbon')">Carbon</button>
        <button onclick="setTheme('high-contrast')">Hi-Con</button>
      </div>
      <span class="switcher-label">Scale</span>
      <div class="switcher-group">
        <button onclick="setScale('compact')">Compact</button>
        <button class="active" onclick="setScale('default')">Default</button>
        <button onclick="setScale('comfortable')">Comfort</button>
      </div>
    </div>

    <div class="app" data-theme="ternity-dark" data-scale="default" id="app">
      <div class="app-content">
        <!-- Journal Header -->
        <div class="journal-header">
          <div class="journal-date">Thursday, 27 February 2026</div>
          <div class="journal-title">My Day</div>
          <div class="journal-summary">
            <strong>5h 42m</strong> tracked across <strong>5 entries</strong> &middot; 2 projects
          </div>
        </div>

        <!-- Day progress bar -->
        <div class="day-bar">
          <span class="day-bar-label">5:42 / 8:00</span>
          <div class="day-bar-track">
            <div class="day-bar-fill" style="width: 71%"></div>
          </div>
          <span class="day-bar-label">71%</span>
        </div>

        <!-- Timeline Feed (newest first) -->
        <div class="timeline-feed">
          <!-- Active / Running -->
          <div class="moment active">
            <div class="moment-time">14:37</div>
            <div class="moment-dot"></div>
            <div class="moment-card">
              <div class="moment-top">
                <span class="moment-desc">Dashboard exploration — My Day concepts</span>
                <span class="moment-duration accent">1:23</span>
              </div>
              <div class="moment-meta">
                <span class="moment-chip running-label">Tracking</span>
                <span class="moment-chip jira"
                  ><i data-lucide="external-link" style="width: 9px; height: 9px"></i>
                  YOS-2841</span
                >
                <span class="moment-chip project"
                  ><span class="dot" style="background: hsl(168 100% 42%)"></span> Ternity</span
                >
              </div>
              <div class="moment-actions">
                <button class="moment-btn stop"><i data-lucide="square"></i> Stop</button>
                <button class="moment-btn ghost">
                  <i data-lucide="arrow-right-left"></i> Switch
                </button>
              </div>
            </div>
          </div>

          <!-- Gap -->
          <div class="gap-marker">
            <span class="gap-marker-time"></span>
            <div class="gap-marker-line">
              <span class="gap-marker-text">22 min gap</span>
            </div>
          </div>

          <!-- Entry 2 -->
          <div class="moment">
            <div class="moment-time">12:15</div>
            <div class="moment-dot"></div>
            <div class="moment-card">
              <div class="moment-top">
                <span class="moment-desc">Dashboard redesign — component refactor</span>
                <span class="moment-duration">2:00</span>
              </div>
              <div class="moment-meta">
                <span class="moment-chip jira"
                  ><i data-lucide="external-link" style="width: 9px; height: 9px"></i>
                  YOS-2838</span
                >
                <span class="moment-chip project"
                  ><span class="dot" style="background: hsl(168 100% 42%)"></span> Ternity</span
                >
                <span class="moment-chip time-range">12:15 — 14:15</span>
              </div>
            </div>
          </div>

          <!-- Gap -->
          <div class="gap-marker">
            <span class="gap-marker-time"></span>
            <div class="gap-marker-line">
              <span class="gap-marker-text">33 min gap</span>
            </div>
          </div>

          <!-- Entry 3 -->
          <div class="moment">
            <div class="moment-time">10:30</div>
            <div class="moment-dot"></div>
            <div class="moment-card">
              <div class="moment-top">
                <span class="moment-desc">DB migration — add audit columns</span>
                <span class="moment-duration">1:12</span>
              </div>
              <div class="moment-meta">
                <span class="moment-chip jira"
                  ><i data-lucide="external-link" style="width: 9px; height: 9px"></i>
                  YOS-2830</span
                >
                <span class="moment-chip project"
                  ><span class="dot" style="background: hsl(168 100% 42%)"></span> Ternity</span
                >
                <span class="moment-chip time-range">10:30 — 11:42</span>
              </div>
            </div>
          </div>

          <!-- Gap -->
          <div class="gap-marker">
            <span class="gap-marker-time"></span>
            <div class="gap-marker-line">
              <span class="gap-marker-text">32 min gap</span>
            </div>
          </div>

          <!-- Entry 4 -->
          <div class="moment">
            <div class="moment-time">09:10</div>
            <div class="moment-dot"></div>
            <div class="moment-card">
              <div class="moment-top">
                <span class="moment-desc">Code review — PR #247 auth flow</span>
                <span class="moment-duration">0:48</span>
              </div>
              <div class="moment-meta">
                <span
                  class="moment-chip project"
                  style="color: hsl(35 100% 60%); font-style: italic"
                  ><i data-lucide="alert-circle" style="width: 9px; height: 9px"></i> No
                  project</span
                >
                <span class="moment-chip time-range">09:10 — 09:58</span>
              </div>
            </div>
          </div>

          <!-- Entry 5 (earliest) -->
          <div class="moment">
            <div class="moment-time">08:05</div>
            <div class="moment-dot"></div>
            <div class="moment-card">
              <div class="moment-top">
                <span class="moment-desc">API endpoints — timer start/resume</span>
                <span class="moment-duration">1:30</span>
              </div>
              <div class="moment-meta">
                <span class="moment-chip jira"
                  ><i data-lucide="external-link" style="width: 9px; height: 9px"></i>
                  YOS-2825</span
                >
                <span class="moment-chip project"
                  ><span class="dot" style="background: hsl(168 100% 42%)"></span> Ternity</span
                >
                <span class="moment-chip time-range">08:05 — 09:35</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Day Insight -->
        <div class="day-insight">
          <i data-lucide="lightbulb" class="insight-icon" style="width: 16px; height: 16px"></i>
          <span class="insight-text">
            Your longest focus block was <strong>2 hours</strong> on Dashboard redesign. You have
            <em>2h 18m</em> remaining to hit your 8h target.
          </span>
        </div>
      </div>
    </div>

    <script>
      function setTheme(t) {
        document.getElementById('app').setAttribute('data-theme', t);
        document.querySelectorAll('.theme-nav button').forEach((b) => b.classList.remove('active'));
        event.target.classList.add('active');
      }
      function setScale(s) {
        document.getElementById('app').setAttribute('data-scale', s);
        const group = event.target.parentElement;
        group.querySelectorAll('button').forEach((b) => b.classList.remove('active'));
        event.target.classList.add('active');
      }
      lucide.createIcons();
    </script>
  </body>
</html>
