<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ternity — Presence & Availability</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Oxanium:wght@400;500;600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../themes.css">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background: #111; color: #ccc;
            font-family: 'Inter', system-ui, sans-serif;
            padding: 20px; font-size: 14px;
        }

        /* Page header */
        .page-header { text-align: center; margin-bottom: 10px; }
        .page-header h1 {
            font-family: 'Oxanium', sans-serif;
            font-size: 11px; font-weight: 400;
            letter-spacing: 5px; text-transform: uppercase;
            color: rgba(255,255,255,0.3);
        }
        .page-header p { font-size: 11px; color: rgba(255,255,255,0.15); margin-top: 4px; }

        /* Switchers */
        .switcher-row {
            display: flex; justify-content: center; gap: 24px;
            margin-bottom: 16px; flex-wrap: wrap; align-items: center;
        }
        .switcher-label {
            font-size: 9px; letter-spacing: 1px; text-transform: uppercase;
            color: rgba(255,255,255,0.2);
        }
        .switcher-group { display: flex; gap: 4px; }
        .theme-nav { display: contents; }
        .switcher-group button {
            font-family: 'Inter', sans-serif; font-size: 10px;
            padding: 4px 10px; border-radius: 4px;
            border: 1px solid #222; background: #161616;
            color: rgba(255,255,255,0.35); cursor: pointer; transition: all 0.15s;
        }
        .switcher-group button:hover { border-color: #444; }
        .switcher-group button.active {
            background: #333; border-color: #555; color: rgba(255,255,255,0.8);
        }

        /* Scale */
        [data-scale="compact"] { --t-scale: 0.9; }
        [data-scale="default"] { --t-scale: 1.1; }
        [data-scale="comfortable"] { --t-scale: 1.2; }

        /* Section dividers */
        .section {
            max-width: 1200px; margin: 0 auto 48px;
            padding-top: 24px; border-top: 1px solid rgba(255,255,255,0.06);
        }
        .section:first-of-type { border-top: none; }
        .section-title {
            font-family: 'Oxanium', sans-serif; font-size: 13px; font-weight: 600;
            letter-spacing: 4px; text-transform: uppercase;
            color: rgba(255,255,255,0.5); margin-bottom: 6px;
        }
        .section-desc {
            font-size: 11px; color: rgba(255,255,255,0.15); margin-bottom: 20px;
        }

        /* Theme container */
        .theme-container {
            max-width: 1200px; margin: 0 auto;
            border-radius: 16px; overflow: hidden;
            border: 1px solid rgba(255,255,255,0.06);
        }

        /* ---- APP LAYOUT ---- */
        .app {
            background: hsl(var(--background)); color: hsl(var(--foreground));
            font-family: 'Inter', system-ui, sans-serif;
            font-size: calc(14px * var(--t-scale, 1));
            min-height: 700px; display: grid;
            grid-template-columns: 220px 1fr;
        }

        /* Sidebar */
        .sidebar {
            background: hsl(var(--sidebar-background));
            border-right: 1px solid hsl(var(--sidebar-border));
            padding: 20px 12px; display: flex; flex-direction: column; gap: 2px;
        }
        .sidebar .logo {
            font-family: 'Oxanium', sans-serif; font-weight: 600; font-size: 15px;
            letter-spacing: 3px; text-transform: uppercase;
            color: hsl(var(--sidebar-foreground));
            display: flex; align-items: center; gap: 8px;
            padding: 0 10px; margin-bottom: 20px;
        }
        .sidebar .logo svg { width: 18px; height: 22px; }
        .sidebar .nav-section {
            font-family: 'Oxanium', sans-serif;
            font-size: calc(9px * var(--t-scale, 1)); letter-spacing: 2px; text-transform: uppercase;
            color: hsl(var(--muted-foreground)); opacity: 0.5;
            padding: 12px 10px 4px; margin-top: 4px;
        }
        .sidebar .nav-item {
            font-size: calc(13px * var(--t-scale, 1)); padding: 8px 10px;
            border-radius: calc(var(--radius) - 2px);
            color: hsl(var(--muted-foreground)); cursor: default; transition: background 0.1s;
            display: flex; align-items: center; gap: 8px;
        }
        .sidebar .nav-item i { width: 16px; height: 16px; opacity: 0.6; }
        .sidebar .nav-item.active {
            background: hsl(var(--sidebar-accent));
            color: hsl(var(--sidebar-accent-foreground));
        }
        .sidebar .nav-item.active i { opacity: 1; }
        .sidebar .spacer { flex: 1; }
        .sidebar .user-block {
            display: flex; align-items: center; gap: 10px;
            padding: 10px; border-top: 1px solid hsl(var(--sidebar-border));
            margin-top: 8px;
        }
        .sidebar .user-block .avatar {
            width: 32px; height: 32px; border-radius: 50%;
            background: hsl(var(--t-avatar-bg)); color: hsl(var(--t-avatar-text));
            display: flex; align-items: center; justify-content: center;
            font-size: 11px; font-weight: 600; flex-shrink: 0;
        }
        .sidebar .user-block .user-name {
            font-size: calc(12px * var(--t-scale, 1)); font-weight: 500;
            color: hsl(var(--sidebar-foreground));
        }
        .sidebar .user-block .user-role {
            font-size: calc(10px * var(--t-scale, 1));
            color: hsl(var(--muted-foreground));
        }

        /* Main area */
        .main { padding: 24px 28px; overflow-y: auto; }
        .top-bar { display: flex; align-items: flex-start; justify-content: space-between; margin-bottom: 20px; }
        .page-title {
            font-family: 'Oxanium', sans-serif;
            font-size: calc(18px * var(--t-scale, 1)); font-weight: 600;
            letter-spacing: 1px; color: hsl(var(--foreground));
        }
        .page-subtitle {
            font-size: calc(12px * var(--t-scale, 1));
            color: hsl(var(--muted-foreground)); margin-top: 2px;
        }

        /* Stat cards */
        .stats-row { display: flex; gap: 12px; margin-bottom: 16px; }
        .stat-card {
            flex: 1; padding: 14px 16px;
            background: hsl(var(--t-stat-bg));
            border: 1px solid hsl(var(--border));
            border-radius: var(--radius); cursor: default;
            transition: border-color 0.15s;
        }
        .stat-card:hover { border-color: hsl(var(--primary) / 0.3); }
        .stat-card.active { border-color: hsl(var(--primary) / 0.5); }
        .stat-label {
            font-family: 'Oxanium', sans-serif;
            font-size: calc(10px * var(--t-scale, 1)); font-weight: 400;
            text-transform: uppercase; letter-spacing: 1.5px;
            color: hsl(var(--muted-foreground));
        }
        .stat-value {
            font-family: 'Oxanium', sans-serif;
            font-size: calc(22px * var(--t-scale, 1)); font-weight: 700;
            color: hsl(var(--foreground)); margin-top: 2px;
        }
        .stat-value.accent { color: hsl(var(--primary)); }
        .stat-value.warn { color: hsl(var(--chart-3)); }
        .stat-value.danger { color: hsl(var(--destructive)); }
        .stat-sub {
            font-size: calc(10px * var(--t-scale, 1));
            color: hsl(var(--muted-foreground)); margin-top: 2px; opacity: 0.7;
        }

        /* Presence-specific colors */
        .status-available { color: hsl(145 60% 50%); }
        .status-away { color: hsl(var(--chart-3)); }
        .status-leave { color: hsl(var(--chart-2)); }
        .status-off { color: hsl(var(--muted-foreground)); }
        .status-focus { color: hsl(var(--chart-5)); }

        .dot-available { background: hsl(145 60% 50%); }
        .dot-away { background: hsl(var(--chart-3)); }
        .dot-leave { background: hsl(var(--chart-2)); }
        .dot-off { background: hsl(var(--muted-foreground)); }
        .dot-focus { background: hsl(var(--chart-5)); }

        /* Status badge */
        .presence-badge {
            display: inline-flex; align-items: center; gap: 5px;
            padding: 2px 8px; border-radius: 10px;
            font-size: calc(10px * var(--t-scale, 1)); font-weight: 500;
        }
        .presence-badge .dot {
            width: 6px; height: 6px; border-radius: 50%; flex-shrink: 0;
        }
        .presence-badge.available {
            background: hsl(145 60% 50% / 0.1);
            color: hsl(145 60% 50%);
        }
        .presence-badge.available .dot { background: hsl(145 60% 50%); }
        .presence-badge.away {
            background: hsl(var(--chart-3) / 0.1);
            color: hsl(var(--chart-3));
        }
        .presence-badge.away .dot { background: hsl(var(--chart-3)); }
        .presence-badge.leave {
            background: hsl(var(--chart-2) / 0.1);
            color: hsl(var(--chart-2));
        }
        .presence-badge.leave .dot { background: hsl(var(--chart-2)); }
        .presence-badge.off {
            background: hsl(var(--muted-foreground) / 0.08);
            color: hsl(var(--muted-foreground));
        }
        .presence-badge.off .dot { background: hsl(var(--muted-foreground)); opacity: 0.5; }
        .presence-badge.focus {
            background: hsl(var(--chart-5) / 0.1);
            color: hsl(var(--chart-5));
        }
        .presence-badge.focus .dot { background: hsl(var(--chart-5)); }

        /* Schedule bar */
        .schedule-bar-container {
            position: relative; height: 28px;
            background: hsl(var(--muted) / 0.5);
            border-radius: 4px; overflow: hidden;
        }
        .schedule-bar-bg {
            position: absolute; top: 0; height: 100%;
            background: hsl(var(--primary) / 0.08);
            border-radius: 4px;
        }
        .schedule-bar-away {
            position: absolute; top: 0; height: 100%;
            background: hsl(var(--chart-3) / 0.2);
            border-left: 2px solid hsl(var(--chart-3) / 0.5);
        }
        .schedule-bar-logged {
            position: absolute; top: 6px; height: 16px;
            background: hsl(var(--primary) / 0.25);
            border-radius: 3px;
        }
        .schedule-bar-now {
            position: absolute; top: 0; bottom: 0; width: 2px;
            background: hsl(var(--destructive));
            z-index: 2;
        }
        .schedule-bar-hours {
            position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            display: flex; align-items: center;
            font-size: 9px; color: hsl(var(--muted-foreground)); opacity: 0.5;
            padding: 0 4px;
        }
        .schedule-bar-hours span {
            position: absolute;
            transform: translateX(-50%);
        }

        /* Team presence board */
        .team-grid { display: flex; flex-direction: column; gap: 1px; }
        .team-row {
            display: grid;
            grid-template-columns: 200px 100px 1fr 80px;
            gap: 12px; align-items: center;
            padding: 10px 14px;
            background: hsl(var(--t-surface));
            border: 1px solid hsl(var(--border));
            border-radius: var(--radius);
            transition: border-color 0.15s;
        }
        .team-row:hover { border-color: hsl(var(--primary) / 0.2); }
        .team-row .person {
            display: flex; align-items: center; gap: 10px;
        }
        .team-row .avatar {
            width: 32px; height: 32px; border-radius: 50%;
            background: hsl(var(--t-avatar-bg)); color: hsl(var(--t-avatar-text));
            display: flex; align-items: center; justify-content: center;
            font-size: 11px; font-weight: 600; flex-shrink: 0;
            position: relative;
        }
        .team-row .avatar .status-dot {
            position: absolute; bottom: -1px; right: -1px;
            width: 10px; height: 10px; border-radius: 50%;
            border: 2px solid hsl(var(--t-surface));
        }
        .team-row .person-name {
            font-size: calc(13px * var(--t-scale, 1)); font-weight: 500;
            color: hsl(var(--foreground));
        }
        .team-row .person-role {
            font-size: calc(10px * var(--t-scale, 1));
            color: hsl(var(--muted-foreground));
        }
        .team-row .away-info {
            font-size: calc(10px * var(--t-scale, 1));
            color: hsl(var(--muted-foreground)); font-style: italic;
        }
        .team-row .logged-today {
            font-family: 'Oxanium', sans-serif;
            font-size: calc(13px * var(--t-scale, 1)); font-weight: 600;
            color: hsl(var(--foreground)); text-align: right;
        }
        .team-row .logged-today .logged-sub {
            font-family: 'Inter', sans-serif;
            font-size: calc(9px * var(--t-scale, 1)); font-weight: 400;
            color: hsl(var(--muted-foreground)); display: block;
        }

        /* Team header row */
        .team-header {
            display: grid;
            grid-template-columns: 200px 100px 1fr 80px;
            gap: 12px; padding: 6px 14px;
            font-family: 'Oxanium', sans-serif;
            font-size: calc(10px * var(--t-scale, 1)); font-weight: 600;
            text-transform: uppercase; letter-spacing: 1px;
            color: hsl(var(--muted-foreground)); opacity: 0.6;
        }
        .team-header span:last-child { text-align: right; }

        /* Filter tabs */
        .filter-tabs { display: flex; gap: 2px; }
        .filter-tab {
            font-family: 'Oxanium', sans-serif;
            font-size: calc(11px * var(--t-scale, 1)); font-weight: 500;
            padding: 6px 12px; border-radius: var(--radius);
            background: transparent; border: none;
            color: hsl(var(--muted-foreground)); cursor: pointer;
            transition: all 0.15s;
        }
        .filter-tab:hover { background: hsl(var(--muted)); }
        .filter-tab.active {
            background: hsl(var(--primary) / 0.08);
            color: hsl(var(--primary));
        }
        .filter-tab .badge-count {
            font-family: 'Oxanium', sans-serif;
            font-size: calc(10px * var(--t-scale, 1));
            margin-left: 4px; opacity: 0.6;
        }

        /* Toolbar */
        .toolbar {
            display: flex; align-items: center; gap: 12px;
            margin-bottom: 14px; flex-wrap: wrap;
        }
        .toolbar-spacer { flex: 1; }

        /* Quick action button */
        .btn-primary {
            display: inline-flex; align-items: center; gap: 6px;
            padding: 7px 14px; border-radius: var(--radius);
            background: hsl(var(--primary));
            color: hsl(var(--primary-foreground));
            font-size: calc(12px * var(--t-scale, 1)); font-weight: 500;
            border: none; cursor: pointer; transition: opacity 0.15s;
        }
        .btn-primary:hover { opacity: 0.9; }
        .btn-primary i { width: 14px; height: 14px; }
        .btn-outline {
            display: inline-flex; align-items: center; gap: 6px;
            padding: 7px 14px; border-radius: var(--radius);
            background: transparent; border: 1px solid hsl(var(--border));
            color: hsl(var(--foreground));
            font-size: calc(12px * var(--t-scale, 1)); font-weight: 500;
            cursor: pointer; transition: all 0.15s;
        }
        .btn-outline:hover { border-color: hsl(var(--primary) / 0.5); }
        .btn-outline i { width: 14px; height: 14px; }
        .btn-away {
            display: inline-flex; align-items: center; gap: 6px;
            padding: 7px 14px; border-radius: var(--radius);
            background: hsl(var(--chart-3) / 0.1);
            border: 1px solid hsl(var(--chart-3) / 0.3);
            color: hsl(var(--chart-3));
            font-size: calc(12px * var(--t-scale, 1)); font-weight: 500;
            cursor: pointer; transition: all 0.15s;
        }
        .btn-away:hover { background: hsl(var(--chart-3) / 0.15); }
        .btn-away i { width: 14px; height: 14px; }
        .btn-back {
            display: inline-flex; align-items: center; gap: 6px;
            padding: 7px 14px; border-radius: var(--radius);
            background: hsl(145 60% 50% / 0.1);
            border: 1px solid hsl(145 60% 50% / 0.3);
            color: hsl(145 60% 50%);
            font-size: calc(12px * var(--t-scale, 1)); font-weight: 500;
            cursor: pointer; transition: all 0.15s;
        }
        .btn-back:hover { background: hsl(145 60% 50% / 0.15); }
        .btn-back i { width: 14px; height: 14px; }

        /* My Day */
        .my-day-grid {
            display: grid; grid-template-columns: 1fr 300px;
            gap: 20px;
        }
        .reconciliation-card {
            background: hsl(var(--t-surface));
            border: 1px solid hsl(var(--border));
            border-radius: var(--radius); padding: 16px;
        }
        .reconciliation-card h3 {
            font-family: 'Oxanium', sans-serif;
            font-size: calc(11px * var(--t-scale, 1)); font-weight: 600;
            text-transform: uppercase; letter-spacing: 1px;
            color: hsl(var(--muted-foreground)); margin-bottom: 12px;
        }
        .recon-row {
            display: flex; justify-content: space-between; align-items: center;
            padding: 6px 0;
            font-size: calc(12px * var(--t-scale, 1));
        }
        .recon-row .recon-label { color: hsl(var(--muted-foreground)); }
        .recon-row .recon-value {
            font-family: 'Oxanium', sans-serif; font-weight: 600;
            color: hsl(var(--foreground));
        }
        .recon-row .recon-value.positive { color: hsl(145 60% 50%); }
        .recon-row .recon-value.negative { color: hsl(var(--destructive)); }
        .recon-row .recon-value.warning { color: hsl(var(--chart-3)); }
        .recon-divider {
            border-top: 1px solid hsl(var(--border)); margin: 4px 0;
        }

        /* Timeline */
        .timeline-bar {
            position: relative; height: 48px;
            background: hsl(var(--muted) / 0.3);
            border: 1px solid hsl(var(--border));
            border-radius: var(--radius); overflow: hidden;
            margin-bottom: 12px;
        }
        .timeline-scheduled {
            position: absolute; top: 0; height: 100%;
            background: hsl(var(--primary) / 0.06);
            border-left: 2px solid hsl(var(--primary) / 0.15);
            border-right: 2px solid hsl(var(--primary) / 0.15);
        }
        .timeline-entry {
            position: absolute; top: 8px; height: 16px;
            background: hsl(var(--primary) / 0.3);
            border-radius: 3px;
        }
        .timeline-away {
            position: absolute; top: 0; height: 100%;
            background: hsl(var(--chart-3) / 0.15);
            background-image: repeating-linear-gradient(
                -45deg, transparent, transparent 3px,
                hsl(var(--chart-3) / 0.08) 3px, hsl(var(--chart-3) / 0.08) 6px
            );
        }
        .timeline-now {
            position: absolute; top: 0; bottom: 0; width: 2px;
            background: hsl(var(--destructive)); z-index: 5;
        }
        .timeline-now::after {
            content: ''; position: absolute; top: -3px; left: -3px;
            width: 8px; height: 8px; border-radius: 50%;
            background: hsl(var(--destructive));
        }
        .timeline-hours {
            position: absolute; bottom: 2px; left: 0; right: 0;
            display: flex; font-size: 8px;
            color: hsl(var(--muted-foreground)); opacity: 0.5;
        }
        .timeline-hours span {
            position: absolute; transform: translateX(-50%);
        }
        .timeline-entry-labels {
            position: absolute; top: 28px; left: 0; right: 0;
            font-size: 8px; color: hsl(var(--muted-foreground)); opacity: 0.7;
        }

        /* Schedule setup */
        .schedule-grid {
            display: flex; flex-direction: column; gap: 6px;
        }
        .schedule-day-row {
            display: grid; grid-template-columns: 80px 120px 20px 120px 1fr;
            gap: 10px; align-items: center;
            padding: 8px 12px;
            background: hsl(var(--t-surface));
            border: 1px solid hsl(var(--border));
            border-radius: var(--radius);
        }
        .schedule-day-name {
            font-family: 'Oxanium', sans-serif;
            font-size: calc(12px * var(--t-scale, 1)); font-weight: 500;
            color: hsl(var(--foreground));
        }
        .schedule-day-name.weekend { color: hsl(var(--muted-foreground)); opacity: 0.5; }
        .schedule-time-input {
            background: hsl(var(--muted));
            border: 1px solid hsl(var(--border));
            border-radius: calc(var(--radius) - 2px);
            color: hsl(var(--foreground));
            font-family: 'Oxanium', sans-serif;
            font-size: calc(13px * var(--t-scale, 1)); font-weight: 600;
            padding: 6px 10px; text-align: center;
            width: 100%;
        }
        .schedule-sep {
            color: hsl(var(--muted-foreground)); text-align: center;
            font-size: calc(12px * var(--t-scale, 1));
        }
        .schedule-total {
            font-family: 'Oxanium', sans-serif;
            font-size: calc(12px * var(--t-scale, 1)); font-weight: 500;
            color: hsl(var(--muted-foreground)); text-align: right;
        }
        .schedule-total .hours {
            color: hsl(var(--foreground)); font-weight: 600;
        }
        .schedule-day-off {
            font-size: calc(11px * var(--t-scale, 1));
            color: hsl(var(--muted-foreground)); opacity: 0.4;
            grid-column: 2 / 5;
        }

        /* Away dialog */
        .away-dialog {
            background: hsl(var(--t-surface));
            border: 1px solid hsl(var(--border));
            border-radius: calc(var(--radius) + 4px);
            padding: 20px; max-width: 360px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.4);
        }
        .away-dialog h3 {
            font-family: 'Oxanium', sans-serif;
            font-size: calc(14px * var(--t-scale, 1)); font-weight: 600;
            color: hsl(var(--foreground)); margin-bottom: 14px;
        }
        .away-quick-options {
            display: flex; flex-wrap: wrap; gap: 6px; margin-bottom: 14px;
        }
        .away-quick-btn {
            padding: 6px 12px; border-radius: var(--radius);
            background: hsl(var(--muted));
            border: 1px solid hsl(var(--border));
            color: hsl(var(--foreground));
            font-size: calc(11px * var(--t-scale, 1));
            cursor: pointer; transition: all 0.15s;
        }
        .away-quick-btn:hover { border-color: hsl(var(--chart-3) / 0.5); }
        .away-quick-btn.selected {
            border-color: hsl(var(--chart-3));
            background: hsl(var(--chart-3) / 0.1);
            color: hsl(var(--chart-3));
        }
        .away-reason-input {
            width: 100%; padding: 8px 12px;
            background: hsl(var(--muted));
            border: 1px solid hsl(var(--border));
            border-radius: var(--radius);
            color: hsl(var(--foreground));
            font-size: calc(12px * var(--t-scale, 1));
            font-family: 'Inter', sans-serif;
        }
        .away-reason-input::placeholder { color: hsl(var(--muted-foreground)); }
        .away-dialog-actions {
            display: flex; gap: 8px; margin-top: 14px; justify-content: flex-end;
        }

        /* Leave request */
        .leave-form {
            background: hsl(var(--t-surface));
            border: 1px solid hsl(var(--border));
            border-radius: var(--radius); padding: 20px;
            max-width: 500px;
        }
        .form-group { margin-bottom: 14px; }
        .form-label {
            font-size: calc(11px * var(--t-scale, 1)); font-weight: 500;
            color: hsl(var(--foreground)); margin-bottom: 4px; display: block;
        }
        .form-input {
            width: 100%; padding: 8px 12px;
            background: hsl(var(--muted));
            border: 1px solid hsl(var(--border));
            border-radius: var(--radius);
            color: hsl(var(--foreground));
            font-size: calc(12px * var(--t-scale, 1));
            font-family: 'Inter', sans-serif;
        }
        .form-row { display: flex; gap: 12px; }
        .form-row > * { flex: 1; }
        .form-hint {
            font-size: calc(10px * var(--t-scale, 1));
            color: hsl(var(--muted-foreground)); margin-top: 4px;
        }
        .overlap-warning {
            display: flex; align-items: center; gap: 8px;
            padding: 8px 12px; border-radius: var(--radius);
            background: hsl(var(--chart-3) / 0.08);
            border: 1px solid hsl(var(--chart-3) / 0.2);
            font-size: calc(11px * var(--t-scale, 1));
            color: hsl(var(--chart-3));
            margin-top: 8px;
        }
        .overlap-warning i { width: 14px; height: 14px; flex-shrink: 0; }

        /* Admin table */
        .recon-table {
            width: 100%; border-collapse: collapse;
        }
        .recon-table th {
            font-family: 'Oxanium', sans-serif;
            font-size: calc(10px * var(--t-scale, 1)); font-weight: 600;
            text-transform: uppercase; letter-spacing: 1px;
            color: hsl(var(--muted-foreground));
            padding: 8px 12px; text-align: left;
            border-bottom: 1px solid hsl(var(--border));
        }
        .recon-table th.text-right { text-align: right; }
        .recon-table td {
            padding: 10px 12px;
            font-size: calc(12px * var(--t-scale, 1));
            color: hsl(var(--foreground));
            border-bottom: 1px solid hsl(var(--border) / 0.5);
        }
        .recon-table td.text-right { text-align: right; }
        .recon-table .num-cell {
            font-family: 'Oxanium', sans-serif; font-weight: 600;
            font-size: calc(13px * var(--t-scale, 1));
        }
        .recon-table .gap-positive { color: hsl(145 60% 50%); }
        .recon-table .gap-negative { color: hsl(var(--destructive)); }
        .recon-table .gap-neutral { color: hsl(var(--muted-foreground)); }
        .recon-table .person-cell {
            display: flex; align-items: center; gap: 10px;
        }
        .recon-table .avatar {
            width: 28px; height: 28px; border-radius: 50%;
            background: hsl(var(--t-avatar-bg)); color: hsl(var(--t-avatar-text));
            display: flex; align-items: center; justify-content: center;
            font-size: 10px; font-weight: 600; flex-shrink: 0;
        }
        .mini-bar {
            display: inline-block; height: 6px; border-radius: 3px;
            background: hsl(var(--primary) / 0.3);
        }
        .mini-bar-fill {
            display: inline-block; height: 6px; border-radius: 3px;
            background: hsl(var(--primary));
        }
        .progress-bar-container {
            display: flex; align-items: center; gap: 6px;
        }
        .progress-bar {
            flex: 1; height: 6px; border-radius: 3px;
            background: hsl(var(--muted));
            overflow: hidden;
        }
        .progress-bar-fill {
            height: 100%; border-radius: 3px;
            transition: width 0.3s;
        }
        .progress-bar-fill.good { background: hsl(var(--primary)); }
        .progress-bar-fill.warning { background: hsl(var(--chart-3)); }
        .progress-bar-fill.danger { background: hsl(var(--destructive)); }
        .progress-label {
            font-family: 'Oxanium', sans-serif;
            font-size: calc(10px * var(--t-scale, 1)); font-weight: 600;
            min-width: 36px; text-align: right;
        }

        /* Quarterly balance */
        .balance-header {
            display: flex; align-items: center; gap: 16px; margin-bottom: 16px;
        }
        .balance-card {
            flex: 1; padding: 16px;
            background: hsl(var(--t-surface));
            border: 1px solid hsl(var(--border));
            border-radius: var(--radius); text-align: center;
        }
        .balance-card .balance-big {
            font-family: 'Oxanium', sans-serif;
            font-size: calc(28px * var(--t-scale, 1)); font-weight: 700;
        }
        .balance-card .balance-label {
            font-size: calc(10px * var(--t-scale, 1));
            color: hsl(var(--muted-foreground)); margin-top: 2px;
        }
        .balance-table {
            width: 100%; border-collapse: collapse;
        }
        .balance-table th {
            font-family: 'Oxanium', sans-serif;
            font-size: calc(10px * var(--t-scale, 1)); font-weight: 600;
            text-transform: uppercase; letter-spacing: 1px;
            color: hsl(var(--muted-foreground));
            padding: 8px 10px; text-align: left;
            border-bottom: 1px solid hsl(var(--border));
        }
        .balance-table td {
            padding: 8px 10px;
            font-size: calc(11px * var(--t-scale, 1));
            color: hsl(var(--foreground));
            border-bottom: 1px solid hsl(var(--border) / 0.3);
        }
        .balance-table td.text-right { text-align: right; }
        .balance-table .type-debt { color: hsl(var(--chart-3)); }
        .balance-table .type-repay { color: hsl(145 60% 50%); }

        /* Utility */
        .text-right { text-align: right; }
        .mt-1 { margin-top: 4px; }
        .mt-2 { margin-top: 8px; }
        .mt-3 { margin-top: 12px; }
        .mt-4 { margin-top: 16px; }
        .mb-2 { margin-bottom: 8px; }
        .mb-3 { margin-bottom: 12px; }
        .gap-8 { gap: 8px; }
        .flex { display: flex; }
        .items-center { align-items: center; }
        .justify-between { justify-content: space-between; }

        /* Presence indicator on timer bar */
        .presence-timer-indicator {
            display: inline-flex; align-items: center; gap: 6px;
            padding: 4px 10px; border-radius: var(--radius);
            font-size: calc(11px * var(--t-scale, 1)); font-weight: 500;
        }
        .presence-timer-indicator .pulse-dot {
            width: 8px; height: 8px; border-radius: 50%;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.4; }
        }

        /* Number highlighting */
        .num-highlight {
            font-family: 'Oxanium', sans-serif; font-weight: 700;
        }
    </style>
</head>
<body>
    <div class="page-header">
        <h1>Presence & Availability</h1>
        <p>presence-a7d4 — Team presence board, My Day, schedule setup, away flow, admin reconciliation, quarterly balance</p>
    </div>

    <div class="switcher-row">
        <span class="switcher-label">Theme</span>
        <div class="switcher-group theme-nav">
            <button onclick="setTheme('ternity-dark')" class="active">Ternity Dark</button>
            <button onclick="setTheme('ternity-light')">Ternity Light</button>
            <button onclick="setTheme('midnight')">Midnight</button>
            <button onclick="setTheme('warm-sand')">Warm Sand</button>
            <button onclick="setTheme('carbon')">Carbon</button>
            <button onclick="setTheme('high-contrast')">High Contrast</button>
        </div>
        <span class="switcher-label">Scale</span>
        <div class="switcher-group">
            <button onclick="setScale('compact')">Compact</button>
            <button onclick="setScale('default')" class="active">Default</button>
            <button onclick="setScale('comfortable')">Comfortable</button>
        </div>
    </div>

    <!-- ================================================================
         SECTION 1: TEAM PRESENCE BOARD
         ================================================================ -->
    <div class="section">
        <div class="section-title">1 · Team Presence Board</div>
        <div class="section-desc">The main "who's around" view. Real-time team presence with schedule bars and status. This is the centerpiece — what you see when you click "Presence" in the sidebar.</div>

        <div class="theme-container" data-scale="default">
            <div class="app" data-theme="ternity-dark">
                <div class="sidebar">
                    <div class="logo">
                        <svg viewBox="0 0 24 30" fill="none">
                            <path d="M12 2L2 8v14l10 6 10-6V8L12 2z" stroke="currentColor" stroke-width="1.5" fill="hsl(var(--primary))" fill-opacity="0.15"/>
                            <path d="M12 2v26M2 8l10 6 10-6" stroke="hsl(var(--primary))" stroke-width="1.5"/>
                        </svg>
                        TERNITY
                    </div>
                    <div class="nav-section">Tracking</div>
                    <div class="nav-item"><i data-lucide="timer"></i> Timer</div>
                    <div class="nav-item"><i data-lucide="list"></i> Entries</div>
                    <div class="nav-section">Team</div>
                    <div class="nav-item active"><i data-lucide="radio"></i> Presence</div>
                    <div class="nav-item"><i data-lucide="calendar"></i> Calendar</div>
                    <div class="nav-section">Admin</div>
                    <div class="nav-item"><i data-lucide="users"></i> Users</div>
                    <div class="nav-item"><i data-lucide="folder"></i> Projects</div>
                    <div class="nav-item"><i data-lucide="bar-chart-3"></i> Reports</div>
                    <div class="spacer"></div>
                    <div class="user-block">
                        <div class="avatar">EM</div>
                        <div>
                            <div class="user-name">Elena Marsh</div>
                            <div class="user-role">Admin</div>
                        </div>
                    </div>
                </div>
                <div class="main">
                    <div class="top-bar">
                        <div>
                            <div class="page-title">Presence</div>
                            <div class="page-subtitle">Monday, 17 Feb · 14:32</div>
                        </div>
                        <div style="display: flex; gap: 8px;">
                            <button class="btn-away"><i data-lucide="log-out"></i> I'm stepping out</button>
                        </div>
                    </div>

                    <div class="stats-row">
                        <div class="stat-card active">
                            <div class="stat-label">Available</div>
                            <div class="stat-value accent">8</div>
                            <div class="stat-sub">working right now</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Away</div>
                            <div class="stat-value warn">2</div>
                            <div class="stat-sub">temporarily out</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">On Leave</div>
                            <div class="stat-value">1</div>
                            <div class="stat-sub">approved leave</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Off Schedule</div>
                            <div class="stat-value">3</div>
                            <div class="stat-sub">outside work hours</div>
                        </div>
                    </div>

                    <div class="toolbar">
                        <div class="filter-tabs">
                            <button class="filter-tab active">All <span class="badge-count">14</span></button>
                            <button class="filter-tab">Available <span class="badge-count">8</span></button>
                            <button class="filter-tab">Away <span class="badge-count">2</span></button>
                            <button class="filter-tab">On Leave <span class="badge-count">1</span></button>
                        </div>
                    </div>

                    <div class="team-header">
                        <span>Person</span>
                        <span>Status</span>
                        <span>Today's Schedule (8:00 – 20:00)</span>
                        <span>Logged</span>
                    </div>

                    <div class="team-grid">
                        <!-- Available people -->
                        <div class="team-row">
                            <div class="person">
                                <div class="avatar">EM<div class="status-dot dot-available"></div></div>
                                <div><div class="person-name">Elena Marsh</div><div class="person-role">Admin</div></div>
                            </div>
                            <div><span class="presence-badge available"><span class="dot"></span> Available</span></div>
                            <div class="schedule-bar-container">
                                <div class="schedule-bar-bg" style="left: 8.3%; width: 66.7%;"></div><!-- 9-17 -->
                                <div class="schedule-bar-logged" style="left: 8.3%; width: 46%;"></div>
                                <div class="schedule-bar-now" style="left: 54.3%;"></div>
                                <div class="schedule-bar-hours">
                                    <span style="left: 0%">8</span><span style="left: 16.7%">10</span><span style="left: 33.3%">12</span><span style="left: 50%">14</span><span style="left: 66.7%">16</span><span style="left: 83.3%">18</span><span style="left: 100%">20</span>
                                </div>
                            </div>
                            <div class="logged-today"><span class="num-cell">5h 12m</span><span class="logged-sub">of 8h</span></div>
                        </div>

                        <div class="team-row">
                            <div class="person">
                                <div class="avatar">JO<div class="status-dot dot-available"></div></div>
                                <div><div class="person-name">James Oakley</div><div class="person-role">Developer</div></div>
                            </div>
                            <div><span class="presence-badge available"><span class="dot"></span> Available</span></div>
                            <div class="schedule-bar-container">
                                <div class="schedule-bar-bg" style="left: 8.3%; width: 66.7%;"></div>
                                <div class="schedule-bar-away" style="left: 33.3%; width: 10%;"></div><!-- 12-12:40 lunch -->
                                <div class="schedule-bar-logged" style="left: 8.3%; width: 41%;"></div>
                                <div class="schedule-bar-now" style="left: 54.3%;"></div>
                                <div class="schedule-bar-hours">
                                    <span style="left: 0%">8</span><span style="left: 16.7%">10</span><span style="left: 33.3%">12</span><span style="left: 50%">14</span><span style="left: 66.7%">16</span><span style="left: 83.3%">18</span><span style="left: 100%">20</span>
                                </div>
                            </div>
                            <div class="logged-today"><span class="num-cell">4h 48m</span><span class="logged-sub">of 8h</span></div>
                        </div>

                        <div class="team-row">
                            <div class="person">
                                <div class="avatar">NF<div class="status-dot dot-available"></div></div>
                                <div><div class="person-name">Nora Fielding</div><div class="person-role">Designer</div></div>
                            </div>
                            <div><span class="presence-badge available"><span class="dot"></span> Available</span></div>
                            <div class="schedule-bar-container">
                                <div class="schedule-bar-bg" style="left: 16.7%; width: 66.7%;"></div><!-- 10-18 -->
                                <div class="schedule-bar-logged" style="left: 16.7%; width: 33%;"></div>
                                <div class="schedule-bar-now" style="left: 54.3%;"></div>
                                <div class="schedule-bar-hours">
                                    <span style="left: 0%">8</span><span style="left: 16.7%">10</span><span style="left: 33.3%">12</span><span style="left: 50%">14</span><span style="left: 66.7%">16</span><span style="left: 83.3%">18</span><span style="left: 100%">20</span>
                                </div>
                            </div>
                            <div class="logged-today"><span class="num-cell">3h 36m</span><span class="logged-sub">of 8h</span></div>
                        </div>

                        <!-- Away people -->
                        <div class="team-row">
                            <div class="person">
                                <div class="avatar">LT<div class="status-dot dot-away"></div></div>
                                <div><div class="person-name">Leo Tanner</div><div class="person-role">Developer</div></div>
                            </div>
                            <div>
                                <span class="presence-badge away"><span class="dot"></span> Away</span>
                                <div class="away-info mt-1">lunch · back ~15:00</div>
                            </div>
                            <div class="schedule-bar-container">
                                <div class="schedule-bar-bg" style="left: 8.3%; width: 66.7%;"></div>
                                <div class="schedule-bar-away" style="left: 50%; width: 8.3%;"></div><!-- 14:00-14:40 -->
                                <div class="schedule-bar-logged" style="left: 8.3%; width: 42%;"></div>
                                <div class="schedule-bar-now" style="left: 54.3%;"></div>
                                <div class="schedule-bar-hours">
                                    <span style="left: 0%">8</span><span style="left: 16.7%">10</span><span style="left: 33.3%">12</span><span style="left: 50%">14</span><span style="left: 66.7%">16</span><span style="left: 83.3%">18</span><span style="left: 100%">20</span>
                                </div>
                            </div>
                            <div class="logged-today"><span class="num-cell">4h 24m</span><span class="logged-sub">of 8h</span></div>
                        </div>

                        <div class="team-row">
                            <div class="person">
                                <div class="avatar">MC<div class="status-dot dot-away"></div></div>
                                <div><div class="person-name">Mia Corrigan</div><div class="person-role">QA</div></div>
                            </div>
                            <div>
                                <span class="presence-badge away"><span class="dot"></span> Away</span>
                                <div class="away-info mt-1">errand · back ~15:30</div>
                            </div>
                            <div class="schedule-bar-container">
                                <div class="schedule-bar-bg" style="left: 0%; width: 66.7%;"></div><!-- 8-16 -->
                                <div class="schedule-bar-away" style="left: 45%; width: 12%;"></div>
                                <div class="schedule-bar-logged" style="left: 0%; width: 42%;"></div>
                                <div class="schedule-bar-now" style="left: 54.3%;"></div>
                                <div class="schedule-bar-hours">
                                    <span style="left: 0%">8</span><span style="left: 16.7%">10</span><span style="left: 33.3%">12</span><span style="left: 50%">14</span><span style="left: 66.7%">16</span><span style="left: 83.3%">18</span><span style="left: 100%">20</span>
                                </div>
                            </div>
                            <div class="logged-today"><span class="num-cell">5h 02m</span><span class="logged-sub">of 8h</span></div>
                        </div>

                        <!-- On leave -->
                        <div class="team-row" style="opacity: 0.6;">
                            <div class="person">
                                <div class="avatar">SW<div class="status-dot dot-leave"></div></div>
                                <div><div class="person-name">Sam Whitford</div><div class="person-role">Developer</div></div>
                            </div>
                            <div><span class="presence-badge leave"><span class="dot"></span> On Leave</span>
                                <div class="away-info mt-1">holiday · back Wed</div>
                            </div>
                            <div class="schedule-bar-container">
                                <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; display: flex; align-items: center; justify-content: center; font-size: calc(10px * var(--t-scale, 1)); color: hsl(var(--chart-2)); opacity: 0.7; letter-spacing: 2px; text-transform: uppercase; font-family: 'Oxanium', sans-serif;">On Leave</div>
                            </div>
                            <div class="logged-today"><span class="num-cell" style="opacity: 0.3;">—</span></div>
                        </div>

                        <!-- Off schedule -->
                        <div class="team-row" style="opacity: 0.4;">
                            <div class="person">
                                <div class="avatar" style="opacity: 0.5;">RK<div class="status-dot dot-off"></div></div>
                                <div><div class="person-name">Ren Kimura</div><div class="person-role">Developer</div></div>
                            </div>
                            <div><span class="presence-badge off"><span class="dot"></span> Off Schedule</span>
                                <div class="away-info mt-1">starts at 16:00</div>
                            </div>
                            <div class="schedule-bar-container">
                                <div class="schedule-bar-bg" style="left: 66.7%; width: 33.3%;"></div><!-- 16-20 -->
                                <div class="schedule-bar-now" style="left: 54.3%;"></div>
                                <div class="schedule-bar-hours">
                                    <span style="left: 0%">8</span><span style="left: 16.7%">10</span><span style="left: 33.3%">12</span><span style="left: 50%">14</span><span style="left: 66.7%">16</span><span style="left: 83.3%">18</span><span style="left: 100%">20</span>
                                </div>
                            </div>
                            <div class="logged-today"><span class="num-cell" style="opacity: 0.3;">0h</span><span class="logged-sub">starts later</span></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ================================================================
         SECTION 2: MY DAY — Personal reconciliation view
         ================================================================ -->
    <div class="section">
        <div class="section-title">2 · My Day</div>
        <div class="section-desc">Personal view — today's schedule, presence timeline, logged time, reconciliation summary. Employee sees their own truth.</div>

        <div class="theme-container" data-scale="default">
            <div style="background: hsl(var(--background)); padding: 24px;" data-theme="ternity-dark">
                <div class="my-day-grid">
                    <div>
                        <!-- Status + Quick Action -->
                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
                            <span class="presence-badge available" style="font-size: calc(12px * var(--t-scale, 1)); padding: 4px 12px;">
                                <span class="dot" style="width: 8px; height: 8px;"></span> Available
                            </span>
                            <span style="font-size: calc(11px * var(--t-scale, 1)); color: hsl(var(--muted-foreground));">since 09:00</span>
                            <div style="flex: 1;"></div>
                            <button class="btn-away"><i data-lucide="log-out"></i> Step out</button>
                        </div>

                        <!-- Timeline -->
                        <div style="font-family: 'Oxanium', sans-serif; font-size: calc(10px * var(--t-scale, 1)); font-weight: 600; text-transform: uppercase; letter-spacing: 1px; color: hsl(var(--muted-foreground)); margin-bottom: 6px;">
                            Today's Timeline
                        </div>
                        <div class="timeline-bar" style="height: 56px;">
                            <!-- Scheduled block 9-17 -->
                            <div class="timeline-scheduled" style="left: 8.3%; width: 66.7%;"></div>
                            <!-- Away block 12:00-13:30 -->
                            <div class="timeline-away" style="left: 33.3%; width: 12.5%;"></div>
                            <!-- Time entries -->
                            <div class="timeline-entry" style="left: 8.3%; width: 25%; top: 10px;" title="PROJ-341 Fix pagination — 09:00-12:00"></div>
                            <div class="timeline-entry" style="left: 45.8%; width: 8.3%; top: 10px;" title="PROJ-342 Code review — 13:30-14:30"></div>
                            <!-- Now marker -->
                            <div class="timeline-now" style="left: 54.3%;"></div>
                            <!-- Hour labels -->
                            <div class="timeline-hours">
                                <span style="left: 0%">8</span><span style="left: 8.3%">9</span><span style="left: 16.7%">10</span><span style="left: 25%">11</span><span style="left: 33.3%">12</span><span style="left: 41.7%">13</span><span style="left: 50%">14</span><span style="left: 58.3%">15</span><span style="left: 66.7%">16</span><span style="left: 75%">17</span><span style="left: 83.3%">18</span><span style="left: 91.7%">19</span>
                            </div>
                        </div>
                        <div style="display: flex; gap: 16px; margin-top: 6px; font-size: calc(10px * var(--t-scale, 1)); color: hsl(var(--muted-foreground));">
                            <span style="display: flex; align-items: center; gap: 4px;">
                                <span style="width: 12px; height: 4px; background: hsl(var(--primary) / 0.06); border: 1px solid hsl(var(--primary) / 0.15); border-radius: 1px;"></span> Scheduled
                            </span>
                            <span style="display: flex; align-items: center; gap: 4px;">
                                <span style="width: 12px; height: 4px; background: hsl(var(--primary) / 0.3); border-radius: 1px;"></span> Logged
                            </span>
                            <span style="display: flex; align-items: center; gap: 4px;">
                                <span style="width: 12px; height: 4px; background: hsl(var(--chart-3) / 0.15); border-radius: 1px;"></span> Away
                            </span>
                            <span style="display: flex; align-items: center; gap: 4px;">
                                <span style="width: 2px; height: 10px; background: hsl(var(--destructive)); border-radius: 1px;"></span> Now
                            </span>
                        </div>

                        <!-- Today's entries -->
                        <div style="margin-top: 20px; font-family: 'Oxanium', sans-serif; font-size: calc(10px * var(--t-scale, 1)); font-weight: 600; text-transform: uppercase; letter-spacing: 1px; color: hsl(var(--muted-foreground)); margin-bottom: 8px;">
                            Today's Entries
                        </div>
                        <div style="display: flex; flex-direction: column; gap: 4px;">
                            <div style="display: flex; align-items: center; gap: 12px; padding: 8px 12px; background: hsl(var(--t-surface)); border: 1px solid hsl(var(--border)); border-radius: var(--radius);">
                                <span style="width: 4px; height: 24px; background: hsl(var(--t-project-1)); border-radius: 2px;"></span>
                                <div style="flex: 1; min-width: 0;">
                                    <div style="font-size: calc(12px * var(--t-scale, 1)); color: hsl(var(--foreground)); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">PROJ-341 Fix pagination edge case on reports</div>
                                    <div style="font-size: calc(10px * var(--t-scale, 1)); color: hsl(var(--muted-foreground)); margin-top: 1px;">Meridian Labs · Platform Core</div>
                                </div>
                                <div style="font-size: calc(10px * var(--t-scale, 1)); color: hsl(var(--muted-foreground));">09:00 – 12:00</div>
                                <div style="font-family: 'Oxanium', sans-serif; font-size: calc(13px * var(--t-scale, 1)); font-weight: 600; color: hsl(var(--foreground));">3:00</div>
                            </div>
                            <div style="display: flex; align-items: center; gap: 12px; padding: 8px 12px; background: hsl(var(--t-surface)); border: 1px solid hsl(var(--border)); border-radius: var(--radius);">
                                <span style="width: 4px; height: 24px; background: hsl(var(--t-project-1)); border-radius: 2px;"></span>
                                <div style="flex: 1; min-width: 0;">
                                    <div style="font-size: calc(12px * var(--t-scale, 1)); color: hsl(var(--foreground));">PROJ-342 Code review — auth middleware</div>
                                    <div style="font-size: calc(10px * var(--t-scale, 1)); color: hsl(var(--muted-foreground)); margin-top: 1px;">Meridian Labs · Platform Core</div>
                                </div>
                                <div style="font-size: calc(10px * var(--t-scale, 1)); color: hsl(var(--muted-foreground));">13:30 – 14:30</div>
                                <div style="font-family: 'Oxanium', sans-serif; font-size: calc(13px * var(--t-scale, 1)); font-weight: 600; color: hsl(var(--foreground));">1:00</div>
                            </div>
                            <div style="display: flex; align-items: center; gap: 12px; padding: 8px 12px; background: hsl(var(--primary) / 0.05); border: 1px solid hsl(var(--primary) / 0.2); border-radius: var(--radius);">
                                <span style="width: 4px; height: 24px; background: hsl(var(--primary)); border-radius: 2px; animation: pulse 2s infinite;"></span>
                                <div style="flex: 1; min-width: 0;">
                                    <div style="font-size: calc(12px * var(--t-scale, 1)); color: hsl(var(--foreground));">PROJ-345 Implement presence API routes</div>
                                    <div style="font-size: calc(10px * var(--t-scale, 1)); color: hsl(var(--muted-foreground)); margin-top: 1px;">Meridian Labs · Platform Core</div>
                                </div>
                                <div style="font-size: calc(10px * var(--t-scale, 1)); color: hsl(var(--primary));">14:30 – now</div>
                                <div style="font-family: 'Oxanium', sans-serif; font-size: calc(13px * var(--t-scale, 1)); font-weight: 600; color: hsl(var(--primary));">0:02</div>
                            </div>
                        </div>
                    </div>

                    <!-- Right: Reconciliation -->
                    <div>
                        <div class="reconciliation-card">
                            <h3>Today's Balance</h3>
                            <div class="recon-row">
                                <span class="recon-label">Scheduled</span>
                                <span class="recon-value">8h 00m</span>
                            </div>
                            <div class="recon-row">
                                <span class="recon-label">Away time</span>
                                <span class="recon-value warning">−1h 30m</span>
                            </div>
                            <div class="recon-divider"></div>
                            <div class="recon-row">
                                <span class="recon-label">Net expected</span>
                                <span class="recon-value">6h 30m</span>
                            </div>
                            <div class="recon-row">
                                <span class="recon-label">Time logged</span>
                                <span class="recon-value">4h 02m</span>
                            </div>
                            <div class="recon-divider"></div>
                            <div class="recon-row" style="padding-top: 8px;">
                                <span class="recon-label" style="font-weight: 600; color: hsl(var(--foreground));">Remaining</span>
                                <span class="recon-value warning" style="font-size: calc(16px * var(--t-scale, 1));">2h 28m</span>
                            </div>
                            <div style="font-size: calc(10px * var(--t-scale, 1)); color: hsl(var(--muted-foreground)); margin-top: 8px; text-align: center;">
                                Schedule ends at 17:00 · 2h 28m left
                            </div>
                        </div>

                        <div class="reconciliation-card mt-3">
                            <h3>This Week</h3>
                            <div class="recon-row">
                                <span class="recon-label">Mon</span>
                                <span class="recon-value">4h 02m <span style="font-size: calc(10px * var(--t-scale, 1)); font-weight: 400; color: hsl(var(--chart-3));">in progress</span></span>
                            </div>
                            <div class="recon-row" style="opacity: 0.4;">
                                <span class="recon-label">Tue</span>
                                <span class="recon-value">—</span>
                            </div>
                            <div class="recon-row" style="opacity: 0.4;">
                                <span class="recon-label">Wed</span>
                                <span class="recon-value">—</span>
                            </div>
                            <div class="recon-row" style="opacity: 0.4;">
                                <span class="recon-label">Thu</span>
                                <span class="recon-value">—</span>
                            </div>
                            <div class="recon-row" style="opacity: 0.4;">
                                <span class="recon-label">Fri</span>
                                <span class="recon-value">—</span>
                            </div>
                            <div class="recon-divider"></div>
                            <div class="recon-row">
                                <span class="recon-label">Week total</span>
                                <span class="recon-value">4h 02m <span style="font-weight: 400; font-size: calc(10px * var(--t-scale,1)); color: hsl(var(--muted-foreground));">/ 40h</span></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ================================================================
         SECTION 3: AWAY FLOW — zero-friction marking
         ================================================================ -->
    <div class="section">
        <div class="section-title">3 · Away Flow</div>
        <div class="section-desc">Zero-friction "I'm stepping out" interaction. Quick duration presets, optional reason. One click to go, one click to come back.</div>

        <div style="display: flex; gap: 24px; flex-wrap: wrap;">
            <!-- 3a: The dialog -->
            <div class="theme-container" data-scale="default" style="flex: 0 0 auto;">
                <div style="background: hsl(var(--background)); padding: 32px;" data-theme="ternity-dark">
                    <div class="away-dialog">
                        <h3><i data-lucide="log-out" style="width: 16px; height: 16px; display: inline; vertical-align: -2px; margin-right: 6px; color: hsl(var(--chart-3));"></i> Stepping out</h3>
                        <div style="font-size: calc(10px * var(--t-scale, 1)); text-transform: uppercase; letter-spacing: 1px; color: hsl(var(--muted-foreground)); margin-bottom: 6px; font-family: 'Oxanium', sans-serif;">How long?</div>
                        <div class="away-quick-options">
                            <button class="away-quick-btn">15 min</button>
                            <button class="away-quick-btn selected">30 min</button>
                            <button class="away-quick-btn">1 hour</button>
                            <button class="away-quick-btn">2 hours</button>
                            <button class="away-quick-btn">Not sure</button>
                        </div>
                        <div style="font-size: calc(10px * var(--t-scale, 1)); text-transform: uppercase; letter-spacing: 1px; color: hsl(var(--muted-foreground)); margin-bottom: 6px; font-family: 'Oxanium', sans-serif;">Reason (optional)</div>
                        <input class="away-reason-input" placeholder="e.g., lunch, errands, appointment...">
                        <div class="away-dialog-actions">
                            <button class="btn-outline">Cancel</button>
                            <button class="btn-away"><i data-lucide="log-out"></i> Step out</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 3b: The "I'm back" state -->
            <div class="theme-container" data-scale="default" style="flex: 0 0 auto;">
                <div style="background: hsl(var(--background)); padding: 32px;" data-theme="ternity-dark">
                    <div class="away-dialog" style="text-align: center;">
                        <div style="font-size: calc(28px * var(--t-scale, 1)); margin-bottom: 4px;">☕</div>
                        <h3 style="color: hsl(var(--chart-3));">You're currently away</h3>
                        <div style="font-size: calc(12px * var(--t-scale, 1)); color: hsl(var(--muted-foreground)); margin-bottom: 4px;">
                            Stepped out at <strong style="color: hsl(var(--foreground));">14:00</strong> · lunch
                        </div>
                        <div style="font-family: 'Oxanium', sans-serif; font-size: calc(20px * var(--t-scale, 1)); font-weight: 700; color: hsl(var(--chart-3)); margin: 8px 0;">
                            32 min
                        </div>
                        <div style="font-size: calc(10px * var(--t-scale, 1)); color: hsl(var(--muted-foreground)); margin-bottom: 14px;">
                            Expected back at ~14:30
                        </div>
                        <button class="btn-back" style="width: 100%; justify-content: center;"><i data-lucide="log-in"></i> I'm back</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ================================================================
         SECTION 4: SCHEDULE SETUP
         ================================================================ -->
    <div class="section">
        <div class="section-title">4 · Schedule Setup</div>
        <div class="section-desc">Set your recurring weekly schedule. This is your team contract — when you commit to being available.</div>

        <div class="theme-container" data-scale="default">
            <div style="background: hsl(var(--background)); padding: 24px;" data-theme="ternity-dark">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                    <div>
                        <div style="font-family: 'Oxanium', sans-serif; font-size: calc(16px * var(--t-scale, 1)); font-weight: 600; color: hsl(var(--foreground));">My Schedule</div>
                        <div style="font-size: calc(11px * var(--t-scale, 1)); color: hsl(var(--muted-foreground)); margin-top: 2px;">Effective since 3 Feb 2026</div>
                    </div>
                    <div style="display: flex; gap: 8px;">
                        <button class="btn-outline"><i data-lucide="copy"></i> Use template</button>
                        <button class="btn-primary"><i data-lucide="pencil"></i> Request change</button>
                    </div>
                </div>

                <div class="schedule-grid" style="max-width: 560px;">
                    <div class="schedule-day-row">
                        <div class="schedule-day-name">Monday</div>
                        <input class="schedule-time-input" value="09:00" disabled>
                        <span class="schedule-sep">–</span>
                        <input class="schedule-time-input" value="17:00" disabled>
                        <div class="schedule-total"><span class="hours">8h</span></div>
                    </div>
                    <div class="schedule-day-row">
                        <div class="schedule-day-name">Tuesday</div>
                        <input class="schedule-time-input" value="09:00" disabled>
                        <span class="schedule-sep">–</span>
                        <input class="schedule-time-input" value="17:00" disabled>
                        <div class="schedule-total"><span class="hours">8h</span></div>
                    </div>
                    <div class="schedule-day-row">
                        <div class="schedule-day-name">Wednesday</div>
                        <input class="schedule-time-input" value="09:00" disabled>
                        <span class="schedule-sep">–</span>
                        <input class="schedule-time-input" value="15:00" disabled>
                        <div class="schedule-total"><span class="hours">6h</span></div>
                    </div>
                    <div class="schedule-day-row">
                        <div class="schedule-day-name">Thursday</div>
                        <input class="schedule-time-input" value="10:00" disabled>
                        <span class="schedule-sep">–</span>
                        <input class="schedule-time-input" value="18:00" disabled>
                        <div class="schedule-total"><span class="hours">8h</span></div>
                    </div>
                    <div class="schedule-day-row">
                        <div class="schedule-day-name">Friday</div>
                        <input class="schedule-time-input" value="09:00" disabled>
                        <span class="schedule-sep">–</span>
                        <input class="schedule-time-input" value="17:00" disabled>
                        <div class="schedule-total"><span class="hours">8h</span></div>
                    </div>
                    <div class="schedule-day-row" style="opacity: 0.4;">
                        <div class="schedule-day-name weekend">Saturday</div>
                        <div class="schedule-day-off">Day off</div>
                    </div>
                    <div class="schedule-day-row" style="opacity: 0.4;">
                        <div class="schedule-day-name weekend">Sunday</div>
                        <div class="schedule-day-off">Day off</div>
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 16px; margin-top: 12px; padding: 10px 12px; background: hsl(var(--t-stat-bg)); border: 1px solid hsl(var(--border)); border-radius: var(--radius); max-width: 560px;">
                    <div style="font-family: 'Oxanium', sans-serif; font-size: calc(10px * var(--t-scale, 1)); text-transform: uppercase; letter-spacing: 1px; color: hsl(var(--muted-foreground));">Weekly Total</div>
                    <div style="font-family: 'Oxanium', sans-serif; font-size: calc(18px * var(--t-scale, 1)); font-weight: 700; color: hsl(var(--primary));">38h</div>
                    <div style="font-size: calc(10px * var(--t-scale, 1)); color: hsl(var(--muted-foreground));">5 working days</div>
                </div>
            </div>
        </div>
    </div>

    <!-- ================================================================
         SECTION 5: LEAVE REQUEST
         ================================================================ -->
    <div class="section">
        <div class="section-title">5 · Leave Request</div>
        <div class="section-desc">For absences of 4+ hours or multi-day. Simple form, shows overlap with team, goes to admin for approval.</div>

        <div class="theme-container" data-scale="default">
            <div style="background: hsl(var(--background)); padding: 24px;" data-theme="ternity-dark">
                <div class="leave-form">
                    <div style="font-family: 'Oxanium', sans-serif; font-size: calc(14px * var(--t-scale, 1)); font-weight: 600; color: hsl(var(--foreground)); margin-bottom: 16px;">Request Time Off</div>

                    <div class="form-group">
                        <label class="form-label">Type</label>
                        <div style="display: flex; gap: 6px; flex-wrap: wrap;">
                            <button class="away-quick-btn selected">Holiday</button>
                            <button class="away-quick-btn">Sick leave</button>
                            <button class="away-quick-btn">Personal</button>
                            <button class="away-quick-btn">Other</button>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="form-row">
                            <div>
                                <label class="form-label">From</label>
                                <input class="form-input" type="text" value="Wed, 19 Feb 2026">
                            </div>
                            <div>
                                <label class="form-label">To</label>
                                <input class="form-input" type="text" value="Fri, 21 Feb 2026">
                            </div>
                        </div>
                        <div class="form-hint">3 working days</div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Note (optional)</label>
                        <input class="form-input" placeholder="Reason for leave...">
                    </div>

                    <div class="overlap-warning">
                        <i data-lucide="alert-triangle"></i>
                        <span>James Oakley is also off on 19–20 Feb</span>
                    </div>

                    <div style="display: flex; justify-content: flex-end; gap: 8px; margin-top: 16px;">
                        <button class="btn-outline">Cancel</button>
                        <button class="btn-primary"><i data-lucide="send"></i> Submit request</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ================================================================
         SECTION 6: ADMIN — Team Reconciliation
         ================================================================ -->
    <div class="section">
        <div class="section-title">6 · Admin — Team Reconciliation</div>
        <div class="section-desc">Team-wide view of declared schedule vs actual logged time. Spots patterns and gaps. This week's summary.</div>

        <div class="theme-container" data-scale="default">
            <div class="app" data-theme="ternity-dark" style="min-height: 560px;">
                <div class="sidebar">
                    <div class="logo">
                        <svg viewBox="0 0 24 30" fill="none">
                            <path d="M12 2L2 8v14l10 6 10-6V8L12 2z" stroke="currentColor" stroke-width="1.5" fill="hsl(var(--primary))" fill-opacity="0.15"/>
                            <path d="M12 2v26M2 8l10 6 10-6" stroke="hsl(var(--primary))" stroke-width="1.5"/>
                        </svg>
                        TERNITY
                    </div>
                    <div class="nav-section">Tracking</div>
                    <div class="nav-item"><i data-lucide="timer"></i> Timer</div>
                    <div class="nav-item"><i data-lucide="list"></i> Entries</div>
                    <div class="nav-section">Team</div>
                    <div class="nav-item"><i data-lucide="radio"></i> Presence</div>
                    <div class="nav-item"><i data-lucide="calendar"></i> Calendar</div>
                    <div class="nav-section">Admin</div>
                    <div class="nav-item"><i data-lucide="users"></i> Users</div>
                    <div class="nav-item"><i data-lucide="folder"></i> Projects</div>
                    <div class="nav-item active"><i data-lucide="bar-chart-3"></i> Reports</div>
                    <div class="spacer"></div>
                    <div class="user-block">
                        <div class="avatar">EM</div>
                        <div>
                            <div class="user-name">Elena Marsh</div>
                            <div class="user-role">Admin</div>
                        </div>
                    </div>
                </div>
                <div class="main">
                    <div class="top-bar">
                        <div>
                            <div class="page-title">Team Reconciliation</div>
                            <div class="page-subtitle">Schedule vs actual — Week of 10–14 Feb 2026</div>
                        </div>
                        <div style="display: flex; gap: 8px;">
                            <button class="btn-outline"><i data-lucide="chevron-left"></i></button>
                            <button class="btn-outline">This week</button>
                            <button class="btn-outline"><i data-lucide="chevron-right"></i></button>
                            <button class="btn-outline"><i data-lucide="download"></i> Export</button>
                        </div>
                    </div>

                    <div class="stats-row">
                        <div class="stat-card">
                            <div class="stat-label">Team Scheduled</div>
                            <div class="stat-value">320h</div>
                            <div class="stat-sub">8 people × 40h</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Total Logged</div>
                            <div class="stat-value accent">298h</div>
                            <div class="stat-sub">93% of scheduled</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Total Away</div>
                            <div class="stat-value warn">18h</div>
                            <div class="stat-sub">across all members</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Avg Utilization</div>
                            <div class="stat-value">93%</div>
                            <div class="stat-sub">logged / (scheduled − away)</div>
                        </div>
                    </div>

                    <div style="background: hsl(var(--t-surface)); border: 1px solid hsl(var(--border)); border-radius: var(--radius); overflow: hidden;">
                        <table class="recon-table">
                            <thead>
                                <tr>
                                    <th style="width: 200px;">Person</th>
                                    <th class="text-right">Scheduled</th>
                                    <th class="text-right">Away</th>
                                    <th class="text-right">Logged</th>
                                    <th style="width: 140px;">Utilization</th>
                                    <th class="text-right">Gap</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><div class="person-cell"><div class="avatar">EM</div> Elena Marsh</div></td>
                                    <td class="text-right"><span class="num-cell">40h</span></td>
                                    <td class="text-right"><span class="num-cell">1h 30m</span></td>
                                    <td class="text-right"><span class="num-cell">38h 12m</span></td>
                                    <td>
                                        <div class="progress-bar-container">
                                            <div class="progress-bar"><div class="progress-bar-fill good" style="width: 99%;"></div></div>
                                            <span class="progress-label" style="color: hsl(145 60% 50%);">99%</span>
                                        </div>
                                    </td>
                                    <td class="text-right"><span class="num-cell gap-positive">+18m</span></td>
                                </tr>
                                <tr>
                                    <td><div class="person-cell"><div class="avatar">JO</div> James Oakley</div></td>
                                    <td class="text-right"><span class="num-cell">40h</span></td>
                                    <td class="text-right"><span class="num-cell">3h 20m</span></td>
                                    <td class="text-right"><span class="num-cell">36h 05m</span></td>
                                    <td>
                                        <div class="progress-bar-container">
                                            <div class="progress-bar"><div class="progress-bar-fill good" style="width: 98%;"></div></div>
                                            <span class="progress-label" style="color: hsl(145 60% 50%);">98%</span>
                                        </div>
                                    </td>
                                    <td class="text-right"><span class="num-cell gap-negative">−35m</span></td>
                                </tr>
                                <tr>
                                    <td><div class="person-cell"><div class="avatar">NF</div> Nora Fielding</div></td>
                                    <td class="text-right"><span class="num-cell">40h</span></td>
                                    <td class="text-right"><span class="num-cell">2h</span></td>
                                    <td class="text-right"><span class="num-cell">37h 48m</span></td>
                                    <td>
                                        <div class="progress-bar-container">
                                            <div class="progress-bar"><div class="progress-bar-fill good" style="width: 99%;"></div></div>
                                            <span class="progress-label" style="color: hsl(145 60% 50%);">99%</span>
                                        </div>
                                    </td>
                                    <td class="text-right"><span class="num-cell gap-negative">−12m</span></td>
                                </tr>
                                <tr>
                                    <td><div class="person-cell"><div class="avatar">LT</div> Leo Tanner</div></td>
                                    <td class="text-right"><span class="num-cell">40h</span></td>
                                    <td class="text-right"><span class="num-cell">5h 45m</span></td>
                                    <td class="text-right"><span class="num-cell">32h 10m</span></td>
                                    <td>
                                        <div class="progress-bar-container">
                                            <div class="progress-bar"><div class="progress-bar-fill warning" style="width: 94%;"></div></div>
                                            <span class="progress-label" style="color: hsl(var(--chart-3));">94%</span>
                                        </div>
                                    </td>
                                    <td class="text-right"><span class="num-cell gap-negative">−2h 05m</span></td>
                                </tr>
                                <tr>
                                    <td><div class="person-cell"><div class="avatar">MC</div> Mia Corrigan</div></td>
                                    <td class="text-right"><span class="num-cell">40h</span></td>
                                    <td class="text-right"><span class="num-cell">1h</span></td>
                                    <td class="text-right"><span class="num-cell">38h 55m</span></td>
                                    <td>
                                        <div class="progress-bar-container">
                                            <div class="progress-bar"><div class="progress-bar-fill good" style="width: 100%;"></div></div>
                                            <span class="progress-label" style="color: hsl(145 60% 50%);">100%</span>
                                        </div>
                                    </td>
                                    <td class="text-right"><span class="num-cell gap-neutral">−5m</span></td>
                                </tr>
                                <tr>
                                    <td><div class="person-cell"><div class="avatar">RK</div> Ren Kimura</div></td>
                                    <td class="text-right"><span class="num-cell">40h</span></td>
                                    <td class="text-right"><span class="num-cell">4h 30m</span></td>
                                    <td class="text-right"><span class="num-cell">34h 50m</span></td>
                                    <td>
                                        <div class="progress-bar-container">
                                            <div class="progress-bar"><div class="progress-bar-fill warning" style="width: 98%;"></div></div>
                                            <span class="progress-label" style="color: hsl(var(--chart-3));">98%</span>
                                        </div>
                                    </td>
                                    <td class="text-right"><span class="num-cell gap-negative">−40m</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ================================================================
         SECTION 7: QUARTERLY BALANCE (Employees only)
         ================================================================ -->
    <div class="section">
        <div class="section-title">7 · Quarterly Balance — Employee Make-Up Ledger</div>
        <div class="section-desc">Formal tracking of short absences ("wyjście prywatne") and make-up time for employees. Quarterly settlement.</div>

        <div class="theme-container" data-scale="default">
            <div style="background: hsl(var(--background)); padding: 24px;" data-theme="ternity-dark">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                    <div>
                        <div style="font-family: 'Oxanium', sans-serif; font-size: calc(16px * var(--t-scale, 1)); font-weight: 600; color: hsl(var(--foreground));">Quarterly Balance — Leo Tanner</div>
                        <div style="font-size: calc(11px * var(--t-scale, 1)); color: hsl(var(--muted-foreground)); margin-top: 2px;">Q1 2026 (Jan – Mar) · Employee</div>
                    </div>
                    <button class="btn-outline"><i data-lucide="download"></i> Export PDF</button>
                </div>

                <div class="balance-header">
                    <div class="balance-card">
                        <div class="balance-big" style="color: hsl(var(--chart-3));">12h 30m</div>
                        <div class="balance-label">Total absences</div>
                    </div>
                    <div class="balance-card">
                        <div class="balance-big" style="color: hsl(145 60% 50%);">9h 15m</div>
                        <div class="balance-label">Made up</div>
                    </div>
                    <div class="balance-card">
                        <div class="balance-big" style="color: hsl(var(--destructive));">−3h 15m</div>
                        <div class="balance-label">Outstanding</div>
                    </div>
                </div>

                <div style="background: hsl(var(--t-surface)); border: 1px solid hsl(var(--border)); border-radius: var(--radius); overflow: hidden;">
                    <table class="balance-table">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Type</th>
                                <th>Time</th>
                                <th>Duration</th>
                                <th>Reason</th>
                                <th class="text-right">Balance</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Mon, 6 Jan</td>
                                <td class="type-debt">Absence</td>
                                <td>12:00 – 14:00</td>
                                <td><span class="type-debt">−2h 00m</span></td>
                                <td style="color: hsl(var(--muted-foreground));">Doctor appointment</td>
                                <td class="text-right"><span class="type-debt">−2h 00m</span></td>
                            </tr>
                            <tr>
                                <td>Mon, 6 Jan</td>
                                <td class="type-repay">Make-up</td>
                                <td>19:00 – 21:00</td>
                                <td><span class="type-repay">+2h 00m</span></td>
                                <td style="color: hsl(var(--muted-foreground));">PROJ-310 Bug fix</td>
                                <td class="text-right"><span style="color: hsl(var(--muted-foreground));">0h 00m</span></td>
                            </tr>
                            <tr>
                                <td>Thu, 16 Jan</td>
                                <td class="type-debt">Absence</td>
                                <td>14:00 – 16:30</td>
                                <td><span class="type-debt">−2h 30m</span></td>
                                <td style="color: hsl(var(--muted-foreground));">Personal errand</td>
                                <td class="text-right"><span class="type-debt">−2h 30m</span></td>
                            </tr>
                            <tr>
                                <td>Thu, 16 Jan</td>
                                <td class="type-repay">Make-up</td>
                                <td>20:00 – 21:30</td>
                                <td><span class="type-repay">+1h 30m</span></td>
                                <td style="color: hsl(var(--muted-foreground));">PROJ-315 Tests</td>
                                <td class="text-right"><span class="type-debt">−1h 00m</span></td>
                            </tr>
                            <tr>
                                <td>Wed, 29 Jan</td>
                                <td class="type-debt">Absence</td>
                                <td>10:00 – 14:00</td>
                                <td><span class="type-debt">−4h 00m</span></td>
                                <td style="color: hsl(var(--muted-foreground));">Car service</td>
                                <td class="text-right"><span class="type-debt">−5h 00m</span></td>
                            </tr>
                            <tr>
                                <td>Fri, 31 Jan</td>
                                <td class="type-repay">Make-up</td>
                                <td>18:00 – 19:45</td>
                                <td><span class="type-repay">+1h 45m</span></td>
                                <td style="color: hsl(var(--muted-foreground));">PROJ-320 Deployment</td>
                                <td class="text-right"><span class="type-debt">−3h 15m</span></td>
                            </tr>
                            <tr>
                                <td>Mon, 10 Feb</td>
                                <td class="type-debt">Absence</td>
                                <td>11:00 – 15:00</td>
                                <td><span class="type-debt">−4h 00m</span></td>
                                <td style="color: hsl(var(--muted-foreground));">Dentist</td>
                                <td class="text-right"><span class="type-debt">−7h 15m</span></td>
                            </tr>
                            <tr>
                                <td>Tue, 11 Feb</td>
                                <td class="type-repay">Make-up</td>
                                <td>19:30 – 23:30</td>
                                <td><span class="type-repay">+4h 00m</span></td>
                                <td style="color: hsl(var(--muted-foreground));">PROJ-328 Migration scripts</td>
                                <td class="text-right"><span class="type-debt">−3h 15m</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div style="margin-top: 12px; padding: 10px 14px; background: hsl(var(--destructive) / 0.06); border: 1px solid hsl(var(--destructive) / 0.15); border-radius: var(--radius); display: flex; align-items: center; gap: 10px;">
                    <i data-lucide="info" style="width: 14px; height: 14px; color: hsl(var(--destructive)); flex-shrink: 0;"></i>
                    <span style="font-size: calc(11px * var(--t-scale, 1)); color: hsl(var(--destructive));">
                        <strong>3h 15m outstanding</strong> — 6 weeks remaining in Q1. Employee should schedule make-up time.
                    </span>
                </div>
            </div>
        </div>
    </div>

    <!-- ================================================================
         SECTION 8: LISTA OBECNOŚCI (Attendance Record)
         ================================================================ -->
    <div class="section">
        <div class="section-title">8 · Lista Obecności — Attendance Record</div>
        <div class="section-desc">Formal daily attendance record for employees (umowa o pracę). Monthly report with employee confirmation.</div>

        <div class="theme-container" data-scale="default">
            <div style="background: hsl(var(--background)); padding: 24px;" data-theme="ternity-dark">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                    <div>
                        <div style="font-family: 'Oxanium', sans-serif; font-size: calc(16px * var(--t-scale, 1)); font-weight: 600; color: hsl(var(--foreground));">Attendance Record — James Oakley</div>
                        <div style="font-size: calc(11px * var(--t-scale, 1)); color: hsl(var(--muted-foreground)); margin-top: 2px;">February 2026 · Employee (umowa o pracę)</div>
                    </div>
                    <div style="display: flex; gap: 8px;">
                        <button class="btn-outline"><i data-lucide="chevron-left"></i></button>
                        <button class="btn-outline"><i data-lucide="chevron-right"></i></button>
                        <button class="btn-outline"><i data-lucide="printer"></i> Print</button>
                        <button class="btn-primary"><i data-lucide="check"></i> Confirm month</button>
                    </div>
                </div>

                <div style="background: hsl(var(--t-surface)); border: 1px solid hsl(var(--border)); border-radius: var(--radius); overflow: hidden;">
                    <table class="balance-table" style="font-size: calc(11px * var(--t-scale, 1));">
                        <thead>
                            <tr>
                                <th style="width: 120px;">Date</th>
                                <th>Schedule</th>
                                <th>Actual Start</th>
                                <th>Actual End</th>
                                <th>Breaks</th>
                                <th class="text-right">Worked</th>
                                <th style="width: 80px;">Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Mon, 3 Feb</td>
                                <td>09:00 – 17:00</td>
                                <td>08:55</td>
                                <td>17:12</td>
                                <td>45m</td>
                                <td class="text-right"><span class="num-cell">7h 32m</span></td>
                                <td><span style="color: hsl(145 60% 50%); font-size: 10px;">✓ Confirmed</span></td>
                            </tr>
                            <tr>
                                <td>Tue, 4 Feb</td>
                                <td>09:00 – 17:00</td>
                                <td>09:02</td>
                                <td>17:45</td>
                                <td>1h 15m</td>
                                <td class="text-right"><span class="num-cell">7h 28m</span></td>
                                <td><span style="color: hsl(145 60% 50%); font-size: 10px;">✓ Confirmed</span></td>
                            </tr>
                            <tr>
                                <td>Wed, 5 Feb</td>
                                <td>09:00 – 17:00</td>
                                <td>09:10</td>
                                <td>18:30</td>
                                <td>30m</td>
                                <td class="text-right"><span class="num-cell">8h 50m</span></td>
                                <td><span style="color: hsl(145 60% 50%); font-size: 10px;">✓ Confirmed</span></td>
                            </tr>
                            <tr>
                                <td>Thu, 6 Feb</td>
                                <td>09:00 – 17:00</td>
                                <td>08:50</td>
                                <td>16:30</td>
                                <td>2h 10m</td>
                                <td class="text-right"><span class="num-cell" style="color: hsl(var(--chart-3));">5h 30m</span></td>
                                <td><span style="color: hsl(var(--chart-3)); font-size: 10px;">⚠ Short</span></td>
                            </tr>
                            <tr>
                                <td>Fri, 7 Feb</td>
                                <td>09:00 – 17:00</td>
                                <td>09:00</td>
                                <td>19:15</td>
                                <td>45m</td>
                                <td class="text-right"><span class="num-cell">9h 30m</span></td>
                                <td><span style="color: hsl(145 60% 50%); font-size: 10px;">✓ Confirmed</span></td>
                            </tr>
                            <tr style="background: hsl(var(--muted) / 0.3);">
                                <td colspan="5" style="text-align: right; font-weight: 600; color: hsl(var(--foreground));">Week 6 Total</td>
                                <td class="text-right"><span class="num-cell" style="font-size: calc(14px * var(--t-scale, 1)); color: hsl(var(--primary));">38h 50m</span></td>
                                <td><span style="font-size: 10px; color: hsl(var(--muted-foreground));">of 40h</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div style="display: flex; gap: 16px; margin-top: 12px;">
                    <div class="balance-card" style="flex: 1;">
                        <div class="balance-label">Month Total</div>
                        <div class="balance-big" style="color: hsl(var(--primary)); font-size: calc(22px * var(--t-scale, 1));">112h 30m</div>
                        <div class="balance-label">of 160h scheduled (14 working days so far)</div>
                    </div>
                    <div class="balance-card" style="flex: 0 0 180px;">
                        <div class="balance-label">Status</div>
                        <div style="font-size: calc(14px * var(--t-scale, 1)); font-weight: 600; color: hsl(var(--chart-3)); margin-top: 4px;">Pending</div>
                        <div class="balance-label">10 confirmed, 4 unconfirmed</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function setTheme(theme) {
            document.querySelectorAll('[data-theme]').forEach(el => el.dataset.theme = theme);
            document.querySelectorAll('.theme-nav button').forEach(btn => {
                btn.classList.toggle('active', btn.textContent.trim().toLowerCase().replace(/\s+/g, '-') === theme);
            });
        }
        function setScale(scale) {
            document.querySelectorAll('[data-scale]').forEach(el => el.dataset.scale = scale);
            const btns = document.querySelectorAll('.switcher-group:last-child button');
            btns.forEach(btn => btn.classList.toggle('active', btn.textContent.trim().toLowerCase() === scale));
        }
        document.addEventListener('DOMContentLoaded', () => lucide.createIcons());
    </script>
</body>
</html>
