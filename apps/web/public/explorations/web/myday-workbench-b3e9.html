<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Day — V2 The Workbench</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Oxanium:wght@400;500;600;700&family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../themes.css" />
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
      *,
      *::before,
      *::after {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        background: #0a0a0a;
        color: #ccc;
        font-family: 'Inter', system-ui, sans-serif;
        padding: 16px;
        font-size: 14px;
      }

      .page-header {
        text-align: center;
        margin-bottom: 8px;
      }
      .page-header h1 {
        font-family: 'Oxanium', sans-serif;
        font-size: 11px;
        font-weight: 400;
        letter-spacing: 5px;
        text-transform: uppercase;
        color: rgba(255, 255, 255, 0.3);
      }
      .page-header p {
        font-size: 11px;
        color: rgba(255, 255, 255, 0.15);
        margin-top: 4px;
      }

      .switcher-row {
        display: flex;
        justify-content: center;
        gap: 24px;
        margin-bottom: 12px;
        flex-wrap: wrap;
        align-items: center;
      }
      .switcher-label {
        font-size: 9px;
        letter-spacing: 1px;
        text-transform: uppercase;
        color: rgba(255, 255, 255, 0.2);
      }
      .switcher-group {
        display: flex;
        gap: 4px;
      }
      .theme-nav {
        display: contents;
      }
      .switcher-group button {
        font-family: 'Inter', sans-serif;
        font-size: 10px;
        padding: 4px 10px;
        border-radius: 4px;
        border: 1px solid #222;
        background: #161616;
        color: rgba(255, 255, 255, 0.35);
        cursor: pointer;
        transition: all 0.15s;
      }
      .switcher-group button:hover {
        border-color: #444;
      }
      .switcher-group button.active {
        background: #333;
        border-color: #555;
        color: rgba(255, 255, 255, 0.8);
      }

      [data-scale='compact'] {
        --t-scale: 0.9;
      }
      [data-scale='default'] {
        --t-scale: 1.1;
      }
      [data-scale='comfortable'] {
        --t-scale: 1.2;
      }

      /* ========================================
           V2 — THE WORKBENCH
           Task-centric. Your day grouped by what you worked on,
           not when. Each task is a card with accumulated time.
           The hero is your current task — big, prominent.
           Below: other tasks from today as cards.
           Philosophy: "See what you accomplished."
           ======================================== */

      .app {
        background: hsl(var(--background));
        color: hsl(var(--foreground));
        font-family: 'Inter', system-ui, sans-serif;
        border-radius: 16px;
        overflow: hidden;
        border: 1px solid hsl(var(--border));
        max-width: 960px;
        margin: 0 auto;
        min-height: 700px;
      }

      .app-content {
        padding: calc(24px * var(--t-scale, 1));
        display: flex;
        flex-direction: column;
        gap: calc(20px * var(--t-scale, 1));
      }

      /* --- Header --- */
      .header {
        display: flex;
        align-items: baseline;
        justify-content: space-between;
      }
      .header-left {
        display: flex;
        align-items: baseline;
        gap: 12px;
      }
      .header-title {
        font-family: 'Oxanium', sans-serif;
        font-size: calc(15px * var(--t-scale, 1));
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 1px;
      }
      .header-date {
        font-size: calc(12px * var(--t-scale, 1));
        color: hsl(var(--muted-foreground));
      }

      /* --- Current Task (Hero Card) --- */
      .current-task {
        background: hsl(var(--t-timer-bg));
        border: 1px solid hsl(var(--primary) / 0.25);
        border-radius: 14px;
        padding: calc(24px * var(--t-scale, 1));
        position: relative;
        overflow: hidden;
      }
      .current-task::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 3px;
        background: linear-gradient(90deg, hsl(var(--primary) / 0.6), hsl(var(--primary) / 0.1));
      }
      .current-label {
        font-family: 'Oxanium', sans-serif;
        font-size: calc(9px * var(--t-scale, 1));
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 3px;
        color: hsl(var(--primary));
        margin-bottom: calc(12px * var(--t-scale, 1));
        display: flex;
        align-items: center;
        gap: 8px;
      }
      .current-label .dot {
        width: 6px;
        height: 6px;
        border-radius: 50%;
        background: hsl(var(--primary));
        animation: pulse-dot 2s ease-in-out infinite;
      }
      @keyframes pulse-dot {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.3;
        }
      }
      .current-main {
        display: flex;
        align-items: flex-start;
        justify-content: space-between;
        gap: 20px;
      }
      .current-info {
        flex: 1;
      }
      .current-desc {
        font-size: calc(16px * var(--t-scale, 1));
        font-weight: 600;
        color: hsl(var(--foreground));
        margin-bottom: 8px;
        line-height: 1.3;
      }
      .current-meta {
        display: flex;
        align-items: center;
        gap: 12px;
        flex-wrap: wrap;
      }
      .meta-chip {
        display: inline-flex;
        align-items: center;
        gap: 5px;
        padding: 3px 10px;
        border-radius: 5px;
        font-size: calc(11px * var(--t-scale, 1));
      }
      .meta-chip.project {
        background: hsl(var(--muted));
        border: 1px solid hsl(var(--border));
        color: hsl(var(--foreground));
      }
      .meta-chip.jira {
        background: hsl(var(--primary) / 0.12);
        color: hsl(var(--primary));
        font-weight: 600;
      }
      .meta-chip .dot {
        width: 7px;
        height: 7px;
        border-radius: 50%;
        animation: none;
      }
      .current-timer {
        text-align: right;
        flex-shrink: 0;
      }
      .current-timer-digits {
        font-family: 'Oxanium', sans-serif;
        font-size: calc(36px * var(--t-scale, 1));
        font-weight: 700;
        color: hsl(var(--primary));
        font-variant-numeric: tabular-nums;
        letter-spacing: 2px;
        line-height: 1;
      }
      .current-timer-sub {
        font-size: calc(10px * var(--t-scale, 1));
        color: hsl(var(--muted-foreground));
        margin-top: 4px;
        font-variant-numeric: tabular-nums;
      }
      .current-actions {
        display: flex;
        gap: 8px;
        margin-top: calc(16px * var(--t-scale, 1));
      }
      .action-btn {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 6px 14px;
        border-radius: 6px;
        border: none;
        font-family: 'Inter', sans-serif;
        font-size: calc(11px * var(--t-scale, 1));
        font-weight: 500;
        cursor: pointer;
        transition: all 0.15s;
      }
      .action-btn.stop {
        background: hsl(var(--destructive));
        color: white;
      }
      .action-btn.secondary {
        background: hsl(var(--muted));
        border: 1px solid hsl(var(--border));
        color: hsl(var(--foreground));
      }
      .action-btn svg {
        width: 13px;
        height: 13px;
      }

      /* --- Day Summary Strip --- */
      .day-summary {
        display: flex;
        align-items: center;
        gap: calc(16px * var(--t-scale, 1));
        padding: calc(14px * var(--t-scale, 1)) calc(18px * var(--t-scale, 1));
        background: hsl(var(--t-stat-bg));
        border: 1px solid hsl(var(--t-border-subtle));
        border-radius: 10px;
      }
      .summary-item {
        display: flex;
        align-items: center;
        gap: 8px;
      }
      .summary-item-label {
        font-family: 'Oxanium', sans-serif;
        font-size: calc(9px * var(--t-scale, 1));
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 1.5px;
        color: hsl(var(--muted-foreground));
      }
      .summary-item-value {
        font-family: 'Oxanium', sans-serif;
        font-size: calc(14px * var(--t-scale, 1));
        font-weight: 700;
        font-variant-numeric: tabular-nums;
      }
      .summary-item-value.accent {
        color: hsl(var(--primary));
      }
      .summary-sep {
        width: 1px;
        height: 20px;
        background: hsl(var(--border));
      }
      .summary-bar {
        flex: 1;
        height: 6px;
        background: hsl(var(--muted));
        border-radius: 3px;
        overflow: hidden;
      }
      .summary-bar-fill {
        height: 100%;
        border-radius: 3px;
        background: hsl(var(--primary));
        transition: width 0.3s;
      }

      /* --- Task Cards Grid --- */
      .tasks-section {
      }
      .tasks-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: calc(12px * var(--t-scale, 1));
      }
      .tasks-title {
        font-family: 'Oxanium', sans-serif;
        font-size: calc(10px * var(--t-scale, 1));
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 2px;
        color: hsl(var(--muted-foreground));
      }
      .tasks-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: calc(10px * var(--t-scale, 1));
      }

      .task-card {
        background: hsl(var(--t-stat-bg));
        border: 1px solid hsl(var(--t-border-subtle));
        border-radius: 10px;
        padding: calc(16px * var(--t-scale, 1));
        display: flex;
        flex-direction: column;
        gap: 8px;
        cursor: pointer;
        transition:
          border-color 0.15s,
          background 0.15s;
        position: relative;
      }
      .task-card:hover {
        border-color: hsl(var(--border));
        background: hsl(var(--muted) / 0.5);
      }
      .task-card-top {
        display: flex;
        align-items: flex-start;
        justify-content: space-between;
      }
      .task-card-desc {
        font-size: calc(13px * var(--t-scale, 1));
        font-weight: 500;
        color: hsl(var(--foreground));
        line-height: 1.3;
        flex: 1;
        padding-right: 8px;
      }
      .task-card-duration {
        font-family: 'Oxanium', sans-serif;
        font-size: calc(16px * var(--t-scale, 1));
        font-weight: 700;
        font-variant-numeric: tabular-nums;
        color: hsl(var(--foreground));
        flex-shrink: 0;
      }
      .task-card-bottom {
        display: flex;
        align-items: center;
        gap: 8px;
      }
      .task-card-project {
        display: inline-flex;
        align-items: center;
        gap: 5px;
        font-size: calc(10px * var(--t-scale, 1));
        color: hsl(var(--muted-foreground));
      }
      .task-card-project .dot {
        width: 6px;
        height: 6px;
        border-radius: 50%;
      }
      .task-card-jira {
        font-size: calc(10px * var(--t-scale, 1));
        color: hsl(var(--primary));
        font-weight: 600;
      }
      .task-card-sessions {
        font-size: calc(10px * var(--t-scale, 1));
        color: hsl(var(--muted-foreground));
        opacity: 0.6;
        margin-left: auto;
      }
      .task-card-play {
        position: absolute;
        top: 50%;
        right: 14px;
        transform: translateY(-50%);
        width: 28px;
        height: 28px;
        border-radius: 50%;
        background: hsl(var(--primary) / 0.15);
        color: hsl(var(--primary));
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 0;
        transition: opacity 0.15s;
      }
      .task-card:hover .task-card-play {
        opacity: 1;
      }
      .task-card-play svg {
        width: 12px;
        height: 12px;
      }

      /* --- Missing project warning --- */
      .task-card.incomplete {
        border-color: hsl(35 100% 60% / 0.2);
      }
      .task-card.incomplete .task-card-project {
        color: hsl(35 100% 60%);
        font-style: italic;
      }
    </style>
  </head>
  <body>
    <div class="page-header">
      <h1>My Day Explorations</h1>
      <p>
        V2 — The Workbench: task-centric. Your current work is the hero. Other tasks as cards with
        accumulated time.
      </p>
    </div>

    <div class="switcher-row">
      <span class="switcher-label">Theme</span>
      <div class="switcher-group theme-nav">
        <button class="active" onclick="setTheme('ternity-dark')">Dark</button>
        <button onclick="setTheme('ternity-light')">Light</button>
        <button onclick="setTheme('midnight')">Midnight</button>
        <button onclick="setTheme('warm-sand')">Sand</button>
        <button onclick="setTheme('carbon')">Carbon</button>
        <button onclick="setTheme('high-contrast')">Hi-Con</button>
      </div>
      <span class="switcher-label">Scale</span>
      <div class="switcher-group">
        <button onclick="setScale('compact')">Compact</button>
        <button class="active" onclick="setScale('default')">Default</button>
        <button onclick="setScale('comfortable')">Comfort</button>
      </div>
    </div>

    <div class="app" data-theme="ternity-dark" data-scale="default" id="app">
      <div class="app-content">
        <!-- Header -->
        <div class="header">
          <div class="header-left">
            <span class="header-title">My Day</span>
            <span class="header-date">Thursday, 27 Feb 2026</span>
          </div>
        </div>

        <!-- Current Task Hero -->
        <div class="current-task">
          <div class="current-label">
            <span class="dot"></span>
            Currently Tracking
          </div>
          <div class="current-main">
            <div class="current-info">
              <div class="current-desc">Dashboard exploration — My Day concepts</div>
              <div class="current-meta">
                <span class="meta-chip project">
                  <span class="dot" style="background: hsl(168 100% 42%)"></span>
                  Ternity
                </span>
                <span class="meta-chip jira">
                  <i data-lucide="external-link" style="width: 10px; height: 10px"></i>
                  YOS-2841
                </span>
              </div>
            </div>
            <div class="current-timer">
              <div class="current-timer-digits">1:23:07</div>
              <div class="current-timer-sub">started at 14:37</div>
            </div>
          </div>
          <div class="current-actions">
            <button class="action-btn stop">
              <i data-lucide="square"></i>
              Stop
            </button>
            <button class="action-btn secondary">
              <i data-lucide="arrow-right-left"></i>
              Switch
            </button>
          </div>
        </div>

        <!-- Day Summary Strip -->
        <div class="day-summary">
          <div class="summary-item">
            <span class="summary-item-label">Today</span>
            <span class="summary-item-value accent">5h 42m</span>
          </div>
          <div class="summary-sep"></div>
          <div class="summary-item">
            <span class="summary-item-label">Target</span>
            <span class="summary-item-value">8h</span>
          </div>
          <div class="summary-bar">
            <div class="summary-bar-fill" style="width: 71%"></div>
          </div>
          <div class="summary-item">
            <span
              class="summary-item-value"
              style="font-size: calc(12px * var(--t-scale, 1)); color: hsl(var(--muted-foreground))"
              >71%</span
            >
          </div>
          <div class="summary-sep"></div>
          <div class="summary-item">
            <span class="summary-item-label">Week</span>
            <span class="summary-item-value">29h 15m</span>
          </div>
        </div>

        <!-- Other Tasks Today -->
        <div class="tasks-section">
          <div class="tasks-header">
            <span class="tasks-title">Earlier Today</span>
          </div>
          <div class="tasks-grid">
            <div class="task-card">
              <div class="task-card-top">
                <span class="task-card-desc">Dashboard redesign — component refactor</span>
                <span class="task-card-duration">2:00</span>
              </div>
              <div class="task-card-bottom">
                <span class="task-card-project"
                  ><span class="dot" style="background: hsl(168 100% 42%)"></span> Ternity</span
                >
                <span class="task-card-jira">YOS-2838</span>
                <span class="task-card-sessions">1 session</span>
              </div>
              <div class="task-card-play"><i data-lucide="play"></i></div>
            </div>

            <div class="task-card">
              <div class="task-card-top">
                <span class="task-card-desc">API endpoints — timer start/resume</span>
                <span class="task-card-duration">1:30</span>
              </div>
              <div class="task-card-bottom">
                <span class="task-card-project"
                  ><span class="dot" style="background: hsl(168 100% 42%)"></span> Ternity</span
                >
                <span class="task-card-jira">YOS-2825</span>
                <span class="task-card-sessions">1 session</span>
              </div>
              <div class="task-card-play"><i data-lucide="play"></i></div>
            </div>

            <div class="task-card">
              <div class="task-card-top">
                <span class="task-card-desc">DB migration — add audit columns</span>
                <span class="task-card-duration">1:12</span>
              </div>
              <div class="task-card-bottom">
                <span class="task-card-project"
                  ><span class="dot" style="background: hsl(168 100% 42%)"></span> Ternity</span
                >
                <span class="task-card-jira">YOS-2830</span>
                <span class="task-card-sessions">1 session</span>
              </div>
              <div class="task-card-play"><i data-lucide="play"></i></div>
            </div>

            <div class="task-card incomplete">
              <div class="task-card-top">
                <span class="task-card-desc">Code review — PR #247 auth flow</span>
                <span class="task-card-duration">0:48</span>
              </div>
              <div class="task-card-bottom">
                <span class="task-card-project"
                  ><i
                    data-lucide="alert-circle"
                    style="width: 10px; height: 10px; color: hsl(35 100% 60%)"
                  ></i>
                  No project</span
                >
                <span class="task-card-sessions">1 session</span>
              </div>
              <div class="task-card-play"><i data-lucide="play"></i></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      function setTheme(t) {
        document.getElementById('app').setAttribute('data-theme', t);
        document.querySelectorAll('.theme-nav button').forEach((b) => b.classList.remove('active'));
        event.target.classList.add('active');
      }
      function setScale(s) {
        document.getElementById('app').setAttribute('data-scale', s);
        const group = event.target.parentElement;
        group.querySelectorAll('button').forEach((b) => b.classList.remove('active'));
        event.target.classList.add('active');
      }
      lucide.createIcons();
    </script>
  </body>
</html>
